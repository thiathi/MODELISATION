function l_NDl(a,b,c){a.hTg.set(b,c)}function l_ODl(a,b){a.rTh.set("default.js",b)}function l_PDl(a,b){return new l_Ee(a,c=>{const d=b.Mh.get(c);return{pipe:new l_w(d||null,()=>[new l_(d?l_C.Kd(d.Ba.value):new l_C([]),l_0_g,l_T_g,l_U_g,l_V_g)],l_5i(l_.fb)),Zj:!0}})}function l_QDl(a,b){var c;null==(c=a.zb.value.get(l_ZQi(b)))||c.setContent(l_p2.Oi,l_p2.qaf);c=a.rK.value.filter(e=>e!=b);a.rK.Oa(c);let d;c=null==(d=l__Qi(a,b))?void 0:d.type;a.lPa.HV(b);c&&l_OQi(a.uDc,"deleted",c)}
var l_RDl={color:"color",shape:"shape",icon:"icon"},l_SDl=l_t('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <rect x="2" y="2" width="20" height="20" fill="url(#AdvancedColorPicker24Icon-icon-id-pattern0)"/>\n        <defs>\n            <pattern id="AdvancedColorPicker24Icon-icon-id-pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">\n                <use xlink:href="#AdvancedColorPicker24Icon-icon-id-image0" transform="scale(0.0227273)"/>\n            </pattern>\n            <image id="AdvancedColorPicker24Icon-icon-id-image0" width="44" height="44" xlink:href="data:image/png;base64,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"/>\n        </defs>\n    </svg>');var l_TDl=class extends l_xu{constructor(a,b){super();this.properties=a;this.Md=b;for(const c of a)l_wu(this,c)}Gd(){const a=[];var b;const c=null==(b=this.Md.Y3.value)?void 0:b.id;b=new Map;if(!c)return[];for(var d of this.properties){const e=d.D4();for(const f in e){if(e[f].color.$E())continue;const g=e[f].ekb.get(c);if(g){let h;const k=null!=(h=b.get(c))?h:{};b.has(c)||b.set(c,k);f in k?k[f].count+=g:k[f]={count:g,color:e[f].color,ekb:new Map}}}}for(const [e,f]of b.entries())d=f,e===c&&a.push(...l_7Dd(d));
return a}Cg(){return!1}};var l_UDl=class{constructor(){this.ba={IWd:i18n.get("legend-item-control-colors-tab-label"),EKk:i18n.get("legend-item-control-shapes-tab-label")};this.i1i={type:"color",icon:l_SDl,label:this.ba.IWd};this.IKk={type:"shape",icon:l_xo,label:this.ba.EKk};this.tabs=[this.i1i,this.IKk]}};l_UDl=__decorate([l_v(),__metadata("design:paramtypes",[])],l_UDl);var l_VDl=class{constructor(a){this.Te=a;this.ba={description:i18n.get("legend-item-control-shapes-tab-zero-state-description")};this.imageUrl=l_pl+"/app/chart/dialogs/legend-block/zero-state.svg";this.imageWidth=84;this.imageHeight=44;this.Te.Vi(245)}};l_VDl.Aa=()=>[{type:l_Fp}];l_VDl.oa=function(a){return new (a||l_VDl)(l_M(l_Fp))};
l_VDl.Ja=l_H({type:l_VDl,Ea:[["lucid-legend-shapes-tab-zero-state"]],Ka:4,Ia:4,Ma:[[1,"zero-state-content"],[1,"empty-selection",3,"imgUrl","imgWidth","imgHeight"],[1,"description"]],template:function(a,b){a&1&&(l_R(0,"div",0)(1,"lucid-empty-state",1)(2,"div",2),l_X(3),l_S()()());a&2&&(l_N(1),l_Q("imgUrl",b.imageUrl)("imgWidth",b.imageWidth)("imgHeight",b.imageHeight),l_N(2),l_Y(b.ba.description))},Na:[l_iJ],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}[_nghost-%COMP%]   .zero-state-content[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px dashed var(--lucid-design-token-foreground-accent-color-css-var,#ced4db);border-radius:8px;margin:16px}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{padding-top:8px;color:var(--lucid-design-token-primary-foreground-color-css-var,#282c33);font-size:14px;line-height:20px;font-weight:var(--lucid-theme-normal-font-weight,400);font-style:normal;font-stretch:normal}"],
changeDetection:0});var l_WDl=class extends l_g{constructor(a,b){super();this.OQ=b;this.euf=new Map;this.Da=new l_in(this);l_NN(a,this.Da,l_ON,()=>{this.euf.clear()});this.Da.listen(this.OQ,l_AQi,c=>{this.euf.set(c.M_j,new Set(c.ktk))})}};l_WDl=__decorate([l_v(),__metadata("design:paramtypes",[l_VN,l_FQi])],l_WDl);var l_XDl=class extends l_g{constructor(a,b){super();this.Ta=b;this.KUg="shape";this.UV=a.UN(l_r2.className,{lastUsedTab:{defaultValue:this.KUg}})}};l_XDl=__decorate([l_v(),__metadata("design:paramtypes",[l_jv,l_fs])],l_XDl);var l_YDl=class extends l_TDl{constructor(a,b,c){super([a,b],c)}};l_YDl=__decorate([l_v(),__metadata("design:paramtypes",[l_ohf,l_qhf,l_AP])],l_YDl);var l_ZDl=l_ZDl||{id:"cake/app/webroot/ts/libraries/defaultview/legenditemcontrol/legendshapestab/legendshapestab.component.closure.js"};function l__Dl(a,b){if(a&1){const c=l_J();l_R(0,"div",7);l_U("lucidClick",function(){const d=l_K(c).Fa,e=l_V(2);return l_L(e.select(d))});l__(1,"lucidPipeValue");l_T(2,"lucid-shape-display-item",8);l_S()}a&2&&(a=b.Fa,b=l_V(2),l_W("existing",l_0(1,3,b.CTj.pipe(a))),l_N(2),l_Q("toolboxDisplayItem",a))}
function l_0Dl(a){a&1&&(l_R(0,"div",3)(1,"p",4),l_X(2),l_S(),l_R(3,"div",5),l_P(4,l__Dl,3,5,"div",6),l_S()());a&2&&(a=l_V(),l_N(2),l_Y(a.ba.BKk),l_N(2),l_Q("ngForOf",a.items))}function l_1Dl(a){a&1&&(l_R(0,"div"),l_T(1,"lucid-legend-shapes-tab-zero-state"),l_S())}function l_2Dl(a){return l_c(function*(){const b=a.Te.tk(245);return 0===a.items.length||!(yield b)})}
var l_U9=class extends l_g{constructor(a,b){super();this.$Df=a;this.Te=b;this.items=[];this.X7a=[];this.cPa=new l_1;this.P_j=new l_Ec(l_r2.sE,l_r2.sE);this.f3k=new l_Ee(this,c=>({pipe:new l_Ar(null,()=>l_SQi(c,this.P_j),void 0,l_Tj(l_HQi)),Zj:!0}));this.CTj=new l_Ee(this,c=>({pipe:new l_w(null,()=>this.X7a.some(d=>l_Sj(d,this.f3k.value(c),l_HQi)),l_d),Zj:!0}));this.ba={BKk:i18n.get("legend-item-control-shapes-in-use-label")}}ngOnInit(){this.LRa=l_2Dl(this)}select(a){this.cPa.emit(a)}};
l_U9.Ua=[{type:l_IA,args:[{Wb:l_ZDl.id,selector:"lucid-legend-shapes-tab",templateUrl:"./legendshapestab.component.html",changeDetection:l_bz.OnPush}]}];l_U9.Aa=()=>[{type:l_WQi},{type:l_Fp}];l_U9.Wc={items:[{type:l_2}],X7a:[{type:l_2}],cPa:[{type:l_JA}]};l_U9.oa=function(a){return new (a||l_U9)(l_M(l_WQi),l_M(l_Fp))};
l_U9.Ja=l_H({type:l_U9,Ea:[["lucid-legend-shapes-tab"]],inputs:{items:"items",X7a:"existingShapeItems"},outputs:{cPa:"itemSelected"},features:[l_O],Ka:4,Ia:5,Ma:[[3,"vertical"],["class","siu-wrapper",4,"ngIf"],[4,"ngIf"],[1,"siu-wrapper"],[1,"siu-label"],[1,"shapes-container"],["class","shape-container",3,"existing","lucidClick",4,"ngFor","ngForOf"],[1,"shape-container",3,"lucidClick"],[3,"toolboxDisplayItem"]],template:function(a,b){a&1&&(l_R(0,"lucid-scrollable",0),l_P(1,l_0Dl,5,2,"div",1),l_P(2,
l_1Dl,2,0,"div",2),l__(3,"async"),l_S());a&2&&(l_Q("vertical",!0),l_N(1),l_Q("ngIf",!!b.items.length),l_N(1),l_Q("ngIf",l_0(3,3,b.LRa)))},Na:[l_lB,l_5,l_iG,l_8E,l_4th,l_VDl,l_sB,l_hE],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-width:344px}lucid-scrollable[_ngcontent-%COMP%]{max-height:236px}.siu-wrapper[_ngcontent-%COMP%]{padding:0 16px}.siu-label[_ngcontent-%COMP%]{font-size:12px;line-height:16px;font-weight:var(--lucid-theme-normal-font-weight,400);font-style:normal;font-stretch:normal;margin-top:16px;color:var(--lucid-design-token-secondary-foreground-color-css-var,#6f7681)}.shapes-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:4px}.shapes-container[_ngcontent-%COMP%]   .shape-container[_ngcontent-%COMP%]{width:40px;height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.shapes-container[_ngcontent-%COMP%]   .shape-container.existing[_ngcontent-%COMP%]{border:1px solid var(--lucid-design-token-foreground-accent-color-css-var,#ced4db);border-radius:4px}.shapes-container[_ngcontent-%COMP%]   .shape-container[_ngcontent-%COMP%]:hover{background:var(--lucid-design-token-secondary-background-color-css-var,rgba(40,44,51,.08))}.shapes-container[_ngcontent-%COMP%]   .shape-container[_ngcontent-%COMP%]   lucid-shape-display-item[_ngcontent-%COMP%]{border-radius:4px;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform .15s ease-in-out;-o-transition:transform .15s ease-in-out;transition:transform .15s ease-in-out;transition:transform .15s ease-in-out,-webkit-transform .15s ease-in-out}.shapes-container[_ngcontent-%COMP%]   .shape-container[_ngcontent-%COMP%]   lucid-shape-display-item[_ngcontent-%COMP%]:hover{-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5)}"],
changeDetection:0});__decorate([l_0q(),__metadata("design:type",Array)],l_U9.prototype,"X7a",void 0);l_U9=__decorate([l_Lb,__metadata("design:paramtypes",[l_WQi,l_Fp])],l_U9);function l_3Dl(a){a=a.j1i.value;return 0<a.length?(a=a.map(b=>({type:"color",Oi:l_r2.Oi,value:b})),l_dRi(a)):l_r2.Oc()}
var l_4Dl=class extends l_g{constructor(a,b,c,d,e,f){super();this.E9e=a;this.dLi=b;this.Ta=c;this.Zy=d;this.viewport=e;this.tDa=f;this.j1i=new l_w(this,()=>{const g=[...this.dLi.Ra()],h=new Set([...l__od(this.E9e,!0)].map(k=>k.toJSON()));return g.filter(k=>{k=k.toJSON();return h.has(k)?!1:!0})},l_5i(l_7j))}Ahd(a,b){a=a?l_3Dl(this):l_r2.Oc();a.className=l_r2.className;a.BoundingBox=l_NGf(this.viewport,l_r2.nq,l_r2.mq);a.DynamicFontSize=this.tDa.a0b;const c=this.viewport.Y3.value;c&&(this.Zy.Rw(c,a,
b)||this.Ta.re("Not able to generate the new legend block. Talk to Di Ying or chart1 team to figure this issue out"))}};l_4Dl=__decorate([l_v(),__metadata("design:paramtypes",[l_0od,l_YDl,l_fs,l_wO,l_AP,l_lC])],l_4Dl);function l_5Dl(a,b){a&1&&(l_R(0,"lucid-finger-tab",5),l_T(1,"lucid-icon",6),l_R(2,"span"),l_X(3),l_S()());a&2&&(a=b.Fa,l_Q("tabName",a.type)("lucidClickIdentifier","legend-item-control-tab-"+a.type),l_N(1),l_Q("icon",a.icon),l_N(2),l_Y(a.label))}
function l_6Dl(a){if(a&1){const b=l_J();l_R(0,"lucid-basic-color-picker",7);l_U("valueChange",function(c){l_K(b);l_V().hie.emit({item:{type:"color",Oi:l_r2.Oi,value:c}});return l_L(void 0)});l_S()}a&2&&(a=l_V(),l_Q("value",l_7Dl(a))("showColorsInUse",!0))}
function l_8Dl(a){if(a&1){const b=l_J();l_R(0,"lucid-legend-shapes-tab",8);l_U("itemSelected",function(c){l_K(b);const d=l_V();return l_L(l_9Dl(d,c))});l__(1,"lucidPipeValue");l_S()}a&2&&(a=l_V(),l_Q("items",l_0(1,2,a.TOb.nFd))("existingShapeItems",a.X7a))}function l_7Dl(a){let b;return"color"!==(null==(b=a.D7b)?void 0:b.type)?l_q:a.D7b.value}
function l_9Dl(a,b){return l_c(function*(){const c=yield l_SQi(b,new l_Ec(l_r2.sE,l_r2.sE)),d={type:"shape",value:b.className};c&&a.hie.emit({item:c,sx:"from diagram key shape tab",Jra:d})})}
var l_$Dl=class extends l_4B{constructor(a,b,c,d){super();this.O_j=a;this.TOb=b;this.$Df=c;this.xWg=d;this.X7a=[];this.hie=new l_1;this.Ekg=new l_x(this,void 0,l_d);this.yRh=new l_w(this,()=>{let e,f,g;return null!=(g=null!=(f=this.Ekg.value)?f:null==(e=this.D7b)?void 0:e.type)?g:"color"},l_d);this.Cqg=l_RDl}ngOnInit(){if(!this.D7b){var a=this.Ekg;var b=this.xWg;try{var c=b.UV.lastUsedTab}catch(d){c="Not able to read DiagramKeyUserStorage['lastUsedTab'].",d instanceof Error&&(c=d.message,d.message=
"Not able to read DiagramKeyUserStorage['lastUsedTab']."),b.Ta.handleError({error:d,severity:"Minor",context:{sourceError:c}}),c=b.KUg}a.value=c}}RPc(a){Object.values(l_RDl).includes(a)&&(this.Ekg.setValue(a),this.xWg.UV.lastUsedTab=a)}ngOnDestroy(){super.Pb()}};l_$Dl.Aa=()=>[{type:l_UDl},{type:l_TX},{type:l_WQi},{type:l_XDl}];l_$Dl.oa=function(a){return new (a||l_$Dl)(l_M(l_UDl),l_M(l_TX),l_M(l_WQi),l_M(l_XDl))};
l_$Dl.Ja=l_H({type:l_$Dl,Ea:[["lucid-legend-item-control"]],inputs:{D7b:"legendItem",X7a:"existingShapeItems"},outputs:{hie:"legendItemChange"},features:[l_O],Ka:7,Ia:11,Ma:[[1,"horizontal",3,"spaceAround","value","noMargin","valueChange"],["class","light no-select-bg horizontal underline-style lucid-finger-tab-hover-animation condensed","data-test-id","'legend-item-control-tab-'+tab.type",3,"tabName","lucidClickIdentifier",4,"ngFor","ngForOf"],[1,"content",3,"ngSwitch"],[3,"value","showColorsInUse",
"valueChange",4,"ngSwitchCase"],[3,"items","existingShapeItems","itemSelected",4,"ngSwitchCase"],["data-test-id","'legend-item-control-tab-'+tab.type",1,"light","no-select-bg","horizontal","underline-style","lucid-finger-tab-hover-animation","condensed",3,"tabName","lucidClickIdentifier"],[3,"icon"],[3,"value","showColorsInUse","valueChange"],[3,"items","existingShapeItems","itemSelected"]],template:function(a,b){a&1&&(l_R(0,"lucid-inline-finger-tabs",0),l_U("valueChange",function(c){return b.RPc(c)}),
l__(1,"lucidPipeValue"),l_P(2,l_5Dl,4,4,"lucid-finger-tab",1),l_S(),l_R(3,"div",2),l__(4,"lucidPipeValue"),l_P(5,l_6Dl,1,2,"lucid-basic-color-picker",3),l_P(6,l_8Dl,2,4,"lucid-legend-shapes-tab",4),l_S());a&2&&(l_Q("spaceAround",!0)("value",l_0(1,7,b.yRh))("noMargin",!0),l_N(2),l_Q("ngForOf",b.O_j.tabs),l_N(1),l_Q("ngSwitch",l_0(4,9,b.yRh)),l_N(2),l_Q("ngSwitchCase",b.Cqg.color),l_N(1),l_Q("ngSwitchCase",b.Cqg.shape))},Na:[l_lB,l_mB,l_nB,l_YA,l_6Y,l_CU,l_fU,l_kF,l_U9,l_hE],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background:#fff;border-radius:4px;overflow:hidden;min-height:300px}lucid-finger-tab[_ngcontent-%COMP%]{width:56px}lucid-finger-tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:56px;margin-top:4px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;font-size:14px;line-height:20px;font-weight:var(--lucid-theme-normal-font-weight,400);font-style:normal;font-stretch:normal}"],
changeDetection:0});function l_aEl(a,b){l_Buf();let c;const d=a.gv.Zq({Xn:l_$Dl,gI:"left",$r:e=>{e.instance.D7b=b.D7b;e.instance.X7a=b.X7a;c=e.instance.hie.subscribe(({item:f,sx:g,Jra:h})=>{b.IIk({item:f,sx:g,Jra:h});let k;null==(k=a.XLb)||k.close()})},Xc:b.iQd,BXb:!0});d&&(a.XLb=d,a.XLb.bQ.then(()=>{a.XLb===d&&(a.XLb=void 0);let e;null==(e=c)||e.unsubscribe()}))}
var l_bEl=class extends l_g{constructor(a,b,c){super();this.gv=a;this.OQ=b;this.wDa=c;this.Da=new l_in(this)}initialize(){this.Da.listen(this.OQ,l_yQi,a=>{l_aEl(this,a)});this.OQ.listen(l_CQi.id,()=>{let a;null==(a=this.XLb)||a.close()})}};l_bEl=__decorate([l_v(),__metadata("design:paramtypes",[l_1p,l_FQi,l_Cuf])],l_bEl);var l_cEl=class{};l_cEl.oa=function(a){return new (a||l_cEl)};l_cEl.Za=l_I({type:l_cEl});l_cEl.Ya=l_F({imports:[l_6,l_kE,l_mG,l_ZKh,l_IU,l_nF,l_pF,l_$uh,l_nK,l_bL,l_kE,l_pF]});var l_dEl=class{};l_dEl.oa=function(a){return new (a||l_dEl)};l_dEl.Za=l_I({type:l_dEl});l_dEl.Ya=l_F({imports:[l_cEl]});function l_eEl(a){a=l_QM(a.deps.selection.items);return a instanceof l_r2?a:void 0}var l_fEl=class extends l_bQ{constructor(a,b,c,d){super(a);this.deps=a;this.Leh=new l_w(this,()=>{{var e=l_eEl(this);const f=[];if(e)for(const g of e.rK.value){const h=l_q2(e,g);f.push(h+e.sE.value/2+e.location.value.y)}e=f}return e},l_d);this.u2a=[b,d,c]}Ce(a){return a.Ce("c")}};l_fEl=__decorate([l_6o(),__metadata("design:paramtypes",[l_$P,l_8Bi,l_92f,l_6Bi])],l_fEl);var l_gEl=class extends l_fEl{constructor(a,b){super(...a);this.J_d=b;this.name="legend-block-add-item";this.ba={LAg:i18n.get("legend-block-hint-add-item")};this.EW=this.HK=!0}cursor(a){if(this.ak(a))return"pointer"}Pp({element:a,hc:b}){if(a&&l_E.Qb(a)&&this.w5b){if(l_mm(b.eb,this.w5b)&&a instanceof l_r2){const c=l_2Qi(a);if(!l_f(c))return!1;l_DQi(this.J_d,a.id,void 0,l_8Qi(a)).then(({item:d,sx:e,Jra:f})=>{l_4Qi(a,c,d,e,f)});this.deps.selection.deselectAll();this.deps.selection.Vk(a.id);l_EQi(this.J_d,
new l_BQi(a.id,[c]));return!0}return!1}}nha(a){return this.ak(a)}ak({hc:a,sq:b}){return b?!!this.w5b&&l_mm(a.eb,this.w5b):!1}WJc(a){this.w5b=void 0;a=a.page;var b=l_$N(this.Ed.DE),c=l_eEl(this);if(c&&c.page.value===a&&b===a&&!l_Ps(this.yd,c)&&!this.Ce(c)){b=c.Ba.value;var d=c.Ima.value;c=`renderAddLegendItem,${b.x},${b.y},${b.w},${b.h},${d}`;const h=l_r2.sE*d;var e=2*d,f=6*d;const k=4*d,l=4*d,m=new l_l(l_r2.UU*d,b.h-.4*h);d={size:12*d,lineWidth:0,padding:6*d};var {w:g}=this.Yb.measureText([this.ba.LAg],
d);const n=new l_s(h/2,0,g,h);g=[];g.push(l_Iu(new l_C([new l_B(n.x,n.y),new l_A(n.x+n.w,n.y),new l_A(n.x+n.w,n.y+h),new l_A(n.x,n.y+h),new l_y]),{fillColor:l_uk}),l_Iu(new l_C([...l_ldg({x:n.x+n.w-h/2,y:n.y,w:h,h},h/2),new l_y]),{strokeColor:l_uk,lineWidth:h/2}),l_Iu(new l_C([...l_ldg({x:0,y:0,w:h,h},h/2),new l_y]),{strokeColor:l_0k,lineWidth:h/2}),l_Iu(new l_C([new l_B(h/2,f),new l_A(h/2,h-f),new l_B(f,h/2),new l_A(h-f,h/2)]),{fillColor:l_p,lineWidth:e,strokeColor:l_p,lineCap:"round",Pa:l_p.qc}));
e=new l_s(0,0,n.w+h,n.h);f=l_Cl(b.x+m.x,b.y+m.y);this.Yb.Rm({key:c,Pd:g,lb:e,Qk:!1,transform:{Ag:a.id,Rf:f}});this.w5b=l_s.translate(e,b.x+m.x,b.y+m.y);this.Yb.zN({text:this.ba.LAg,transform:{Ag:a.id,Rf:l_Cl(this.w5b.x+h+k,this.w5b.y+l)},options:Object.assign({},d,{vh:l_Ck,padding:0,fillColor:l_q,RJ:!0})})}}};l_gEl=__decorate([l_v(),__param(0,l_bp(l_fEl)),__metadata("design:paramtypes",[void 0,l_FQi])],l_gEl);var l_hEl=class extends l_fEl{constructor(){super(...arguments);this.name="legend-block-drag-handles"}$h(a){const b=l_eEl(this);if(b&&!this.Ce(b)){const c=b.Ba.value.x+b.UU.value/2;a=a.page;const d=this.Ed.zoom.value;for(const e of this.Leh.value)l_9K(this.Yb,{eb:{x:c,y:e},page:a,icon:l_9n,scale:d*b.Ima.value,$i:new l_Ba(b.id)})}}Ce(a){return super.Ce(a)||a.Ce("p")}};l_hEl=__decorate([l_v()],l_hEl);function l_iEl(a,b,c){const d=c.Ba.value;a:{if(a=l_eEl(a))for(e of a.rK.value){const f=a.Ba.value;let g;const h={x:f.x,y:f.y+l_q2(a,e),h:Math.max(null!=(g=a.wDc.get(e))?g:0,a.sE.value),w:f.w};if(l_mm(b,h)){var e={sDn:e,rOh:h};break a}}e=void 0}return e?l_mm(b,{x:d.x+d.w-c.UU.value,y:e.rOh.y,w:c.sE.value,h:e.rOh.h}):!1}
var l_jEl=class extends l_fEl{constructor(a,b){super(...a);this.J_d=b;this.name="legend-block-delete-row"}Pp(a){const b=l_eEl(this);if(b&&l_SN(this.selection,b.id)&&l_iEl(this,a.hc.eb,b)&&!this.Ce(b)){this.J_d.dispatchEvent(new l_BQi(b.id,[]));{a=a.hc.eb;const c=l_eEl(this);c?(a=c.rK.value[c.Qxc(a)],a=0<=a?a:void 0):a=void 0}a&&l_QDl(b,a);return a?!0:!1}return!1}cursor({element:a,hc:b}){const c=l_eEl(this);if(c&&c.id===(null==a?void 0:a.id))return l_iEl(this,b.eb,c)?"pointer":void 0}$h(a){const b=
l_eEl(this);if(b&&!this.Ce(b)){const c=b.Ba.value.x+b.Ba.value.w-b.UU.value/2;a=a.page;const d=this.Ed.zoom.value;for(const e of this.Leh.value)l_9K(this.Yb,{eb:{x:c,y:e},page:a,icon:l_Eo,scale:d*b.Ima.value,$i:new l_Ba(b.id)})}}};l_jEl=__decorate([l_v(),__param(0,l_bp(l_fEl)),__metadata("design:paramtypes",[void 0,l_FQi])],l_jEl);function l_kEl(a,b){const c=l__Qi(a,b),d=[];c||d;const e=(l,m)=>{const n=l.x,p=l.y,q=l.h;l=l.w;return new l_C([new l_B(n+l,p+q-m),new l_Cu(n+l,p+q,n+l-m,p+q,m),new l_A(n+m,p+q),new l_Cu(n,p+q,n,p+q-m,m),new l_A(n,p+m),new l_Cu(n,p,n+m,p,m),new l_A(n+l-m,p),new l_Cu(n+l,p,n+l,p+m,m),new l_y])},f=(l,m)=>{switch(m){case "color":return new l_C([...l_9u(l),new l_y]);case "shape":return e(l,2);default:return new l_C([])}},g=a.location.value.x+a.UU.value,h=a.location.value.y+l_q2(a,b);c&&d.push(l_Iu(f({x:g,
y:h,w:a.sE.value,h:a.sE.value},c.type),{fillColor:void 0,lineWidth:2,zc:!0,strokeColor:l__k,o_a:!0,strokeStyle:"solid"}));let k;b={x:a.location.value.x+.125*l_r2.UU,y:a.location.value.y+l_q2(a,b),h:Math.max(a.sE.value,null!=(k=a.wDc.get(b))?k:0),w:a.Ba.value.w-.25*l_r2.UU};d.push(l_Iu(e(b,4),{fillColor:l__k.xa(.1)}));return d}function l_lEl(a,b){const c=[];b.forEach(d=>{(d=l__Qi(a,d))&&c.push(d.type.toString())});return c}
var l_mEl=class extends l_fEl{constructor(a,b){super(...a);this.rgj=b;this.name="legend-row-highlight";this.EW=this.HK=!1}$h(a){const b=l_eEl(this);if(b){a=a.page;var c=this.Ed.devicePixelRatio.value,d,e=null!=(d=this.rgj.euf.get(b.id))?d:new Set;d=b.rK.value;const f=l_lEl(b,e),g=[];e.forEach(k=>{g.push(...l_kEl(b,k))});const h=b.Ba.value;c=`renderLegendRowHighlight,${h.x},${h.y},${h.w},${h.h},${c},${[...e].join("-")},${d.join("-")},${f.join("-")}`;e=l_Lu(g);this.Yb.Rm({key:c,Pd:g,lb:e,Qk:!1,transform:{Ag:a.id,
Rf:l_El}})}}};l_mEl=__decorate([l_v(),__param(0,l_bp(l_fEl)),__metadata("design:paramtypes",[void 0,l_WDl])],l_mEl);function l_nEl(a){const b=new l_WAc(i18n.get("tool-group-create-diagram-key"),()=>{a.Ahd.Ahd(!0,"button from shape panel")},"addNewDiagramKeyUnderShapeInUseButton");l_ODl(a.$d,[b])}
var l_oEl=class extends l_g{constructor(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u,v,w,x){super();this.Ju=d;this.Ahd=r;this.BJb=t;this.$d=w;this.a4e=x;this.Da=new l_in(this);l_nEl(this);l_pp(p,{Tf:[l_$Dl],module:l_dEl});b.Adc();a.Adc();l_aS(e,{className:l_3_.className,fU:g.zp()?"shape-change-panel font-picker font-size text-color text-emphasis text-alignment text-list-style item-link lock tridot".split(" "):[],WTa:["font-picker","font-size","text-color"]});c.promise.then(()=>{const y=this;return l_c(function*(){const z=
yield y.mX();z&&y.Ju.fVg.set("chart",z);yield y.cyd()})});l_ofh(x,this.Da,()=>this.cyd());l_aS(e,{className:"ImageSearchBlock2",WTa:["crop-image-fill","image-fill-position","item-link","emoji"]});for(const y of h.u2a)l_IQ(y,h);for(const y of[k,l,m,n])for(const z of y.u2a)l_IQ(z,y);q.initialize();a={action:()=>{this.Ahd.Ahd(!1,"selected from insert menu")},Mu:i18n.get("menu-item-add-diagram-key-additional-terms"),id:"add-diagram-key",label:i18n.get("menu-item-add-diagram-key")};l_W5i(this.BJb,{Nga:"insert",
item:a});l_NDl(u,l_Z_g,l_PDl(this,f))}mX(){const a=this;return l_c(function*(){const b=l_wCj.className;var c=l_hP(a.$d,"default.js",b);if(c)return c=yield(yield l_qR(a.$d,c)).wS(),c=l_Rc(c),{className:b,sy:{},LN:c,Dq:{},OJi:d=>{l__K(d)}}})}cyd(){const a=this;return l_c(function*(){const b=yield a.mX();var c=a.Ju;b?c.rXe.set("chart",b):c.rXe.delete("chart")})}};
l_oEl=__decorate([l_v(),__param(2,l_7o(l_jq)),__param(17,l_$o(l_ipd)),__metadata("design:paramtypes",[l__5i,l_Quj,Object,l_VQ,l_bS,l_AM,l_PG,l_15i,l_jEl,l_hEl,l_gEl,l_mEl,l_qp,l_bEl,l_4Dl,l_Ltg,l_hEc,Array,l_jP,l_pfh])],l_oEl);l_JR("defaultview","default",l_oEl);
//# sourceURL=/js/application/chart_app/chunk/defaultview.js?compiled=1
