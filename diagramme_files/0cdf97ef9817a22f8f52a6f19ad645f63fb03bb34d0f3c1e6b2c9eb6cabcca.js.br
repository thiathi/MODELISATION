function l_v7i(a,b,c,d=a){let e=void 0;var f=Infinity;if(l_dk(d,a,b)){for(let h=0;h<c.length;h++){const k=c[h];var g=c[(h+1)%c.length];const l=l_hk(a,b,k,g);if(!0===l)if(l_dk(d,k,g)){e=d;break}else f=l_l.distance(d,k),g=l_l.distance(d,g),f<g?e=k:(e=k,f=g);else!1!==l&&l_l.distance(l,d)<f&&(e=l,f=l_l.distance(l,d))}return e}}var l_w7i=l_t('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 28 28"><g clip-path="url(#FlexPolyPreviewFill28Icon-icon-id-a)"><path fill="white" d="M3 11.4 14 3l11 8.4L20.8 25H7.2L3 11.4Z"/><path fill="#000" class="primary" fill-rule="evenodd" d="m14 2.37 11.58 8.844L21.17 25.5H6.83L2.42 11.214 14 2.371ZM3.58 11.587 7.57 24.5H20.43l3.988-12.914L14 3.629 3.58 11.586Z" clip-rule="evenodd"/><path fill="white" d="M5.5 11.4c0 1.4-1.1 2.5-2.5 2.5S.5 12.8.5 11.4 1.6 8.9 3 8.9s2.5 1.1 2.5 2.5Zm11-8.4c0 1.4-1.1 2.5-2.5 2.5S11.5 4.4 11.5 3 12.6.5 14 .5s2.5 1.1 2.5 2.5Zm11 8.4c0 1.4-1.1 2.5-2.5 2.5s-2.5-1.1-2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5ZM23.3 25c0 1.4-1.1 2.5-2.5 2.5s-2.5-1.1-2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5ZM9.7 25c0 1.4-1.1 2.5-2.5 2.5S4.7 26.4 4.7 25s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5Z"/><path fill="#000" class="primary" fill-rule="evenodd" d="M14 1c-1.124 0-2 .876-2 2s.876 2 2 2 2-.876 2-2-.876-2-2-2Zm-3 2c0-1.676 1.324-3 3-3s3 1.324 3 3-1.324 3-3 3-3-1.324-3-3ZM3 9.4c-1.124 0-2 .876-2 2s.876 2 2 2 2-.876 2-2-.876-2-2-2Zm-3 2c0-1.676 1.324-3 3-3s3 1.324 3 3-1.324 3-3 3-3-1.324-3-3Zm25-2c-1.124 0-2 .876-2 2s.876 2 2 2 2-.876 2-2-.876-2-2-2Zm-3 2c0-1.676 1.324-3 3-3s3 1.324 3 3-1.324 3-3 3-3-1.324-3-3ZM7.2 23c-1.124 0-2 .876-2 2s.876 2 2 2 2-.876 2-2-.876-2-2-2Zm-3 2c0-1.676 1.324-3 3-3s3 1.324 3 3-1.324 3-3 3-3-1.324-3-3Zm16.6-2c-1.124 0-2 .876-2 2s.876 2 2 2 2-.876 2-2-.876-2-2-2Zm-3 2c0-1.676 1.324-3 3-3s3 1.324 3 3-1.324 3-3 3-3-1.324-3-3Z" clip-rule="evenodd"/></g><defs><clipPath id="FlexPolyPreviewFill28Icon-icon-id-a"><path fill="white" d="M0 0h28v28H0z"/></clipPath></defs></svg>');var l_x7i=class extends l_wa{constructor(a){super(20);this.ib=a;this.ZXc=new Set(["CalloutBlock","CalloutSquareBlock"]);this.RRd={$hg:(b,c)=>{if(this.ZXc.has(b)&&(b=c.Tip)&&b.t){const d=c.Text;d&&d.t||(c.Text=b,c.Tip=null)}}}}update(a){a=a.Xd;for(const [,b]of a.Mh)a=b,this.ZXc.has(a.Tb())&&this.gSc(a)}gSc(a){var b=a.lg;const c=b.get("Tip",!0);c&&c.t&&((b=b.get("Text",!0))&&b.t||a.Qf.ib.yF(()=>{let d;null==(d=a.zb.value.get("Text"))||d.property.Oa(c);this.Isa(a.id,"Tip",null)}))}ol(){return!0}Isa(a,
b,c){a=new l_8v("SetProperty",{id:a,Property:b,Value:c});this.ib.Hb(a)}};l_x7i=__decorate([l_v(),__metadata("design:paramtypes",[l_wx])],l_x7i);const l_y7i=new l_h("Vertices"),l_z7i=new l_h("Modified");function l_A7i(a){const b=(c,d=0)=>{let e=[];for(let f=0;f<c;f++){const g=2*Math.PI/c*f+d;e.push({x:Math.cos(g)/2+.5,y:-Math.sin(g)/2+.5})}c={x:0,y:0,w:1,h:1};l_B7i(c,e);return e=l_C7i(e,c)};switch(a){case 3:return[{x:0,y:1},{x:.5,y:0},{x:1,y:1}];case 4:return[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1}];case 5:return[{x:0,y:.382},{x:.5,y:0},{x:1,y:.382},{x:.809,y:1},{x:.191,y:1}];default:return b(a,0)}}
function l_D7i(a,b){return a.map(c=>l_wm(b,c.x,c.y))}function l_E7i(a,b,c=a.Ba.value,d,e,f,g){return l_Ej(l_l.PMa(b,c,d,e),f,g)}function l_B7i(a,b){let c=Infinity,d=-Infinity,e=Infinity,f=-Infinity;b.forEach(g=>{g.x<c&&(c=g.x);g.x>d&&(d=g.x);g.y<e&&(e=g.y);g.y>f&&(f=g.y)});a.x=c;a.y=e;a.w=d-c;a.h=f-e}function l_C7i(a,b){return a.map(c=>l_vm(b,c))}
function l_F7i(a,b,c){if(!(3>b.length)){var d=a.Ba.value,e=l_lm(d),f=l_D7i(b,e),g=a.properties.flipX.value,h=a.properties.flipY.value,k=f;if(g||h)k=k.map(l=>l_l.PMa(l,e,g,h));l_B7i(e,k);if(!l_Th(d,e)){b=l_C7i(k,e);if(g||h)b=b.map(l=>l_l.PMa(l,{x:0,y:0,w:1,h:1},g,h));if(a.properties.rotation.value&&0<=c){k=0==c?b.length-1:c-1;const l=l_s.center(e);f=f.map(m=>l_Ej(m,l,a.properties.rotation.value))[k];c=a.Qw.value[b.length!=a.Qw.value.length&&0==c?k+1:k];d=l_1K(a,l_wm(d,c.x,c.y));c=f.y-d.y;e.x-=f.x-
d.x;e.y-=c}a.internal.properties.Jf.Oa(e)}a.Qw.Oa(b);!a.modified.value&&a.modified.Oa(!0)}}function l_G7i(a,b,c=a.Ba.value,d=1,e,f,g,h){d=10/d;b={x:c.x+c.w*b.x,y:c.y+c.h*b.y};if(e||f||h)b=l_E7i(a,b,c,!!e,!!f,g||a.center.value,h||0);return{x:b.x-d/2,y:b.y-d/2,w:d,h:d}}function l_H7i(a,b){const c=1/a.En.value;a=a.hUe.value;for(let d=0;d<a.length;d++)if(l_dk(b,a[d].ck,a[d].Wm,c))return{ck:a[d].ck,Wm:a[d].Wm,index:d}}
function l_I7i(a,b){let c=void 0;const d=a.Qw.value,e=a.Ba.value,f=a.En.value,g=a.properties.flipX.value,h=a.properties.flipY.value,k=a.center.value,l=a.properties.rotation.value;for(let m=0;m<d.length;m++){const n=d[m];if(l_mm(b,l_G7i(a,n,e,f,g,h,k,l))){c={x:n.x,y:n.y,index:m};break}}return c}function l_J7i(a,b){let c=a.Qw.value;3<c.length&&(c=l_Sh(c),c.splice(b,1),l_F7i(a,c,b))}
function l_K7i(a,b,c){var d=a.Ba.value;const e=a.hUe.value[c];b=l_ek(b,l_l.copy(e.ck),l_l.copy(e.Wm));b=l_l.PMa(l_Rm(a,b),a.Ba.value,a.properties.flipX.value,a.properties.flipY.value);d=l_vm(d,b);b=l_Sh(a.Qw.value);b.splice(c+1,0,d);l_F7i(a,b,c+1)}
function l_L7i(){function a(e,f){let g=void 0;f.sort((h,k)=>k.properties.Sd.value-h.properties.Sd.value).forEach(h=>{if(!g&&h instanceof l_M7i){var k=l_I7i(h,e);k&&(g={Bf:{x:k.x,y:k.y},index:k.index,block:h})}});return g}function b(e,f){let g=void 0;f.sort((h,k)=>k.properties.Sd.value-h.properties.Sd.value).forEach(h=>{if(!g&&h instanceof l_M7i){var k=l_H7i(h,e);k&&(g={ck:k.ck,Wm:k.Wm,index:k.index,block:h})}});return g}let c=void 0,d=void 0;return[{label:i18n.get("flex-polygon-delete-vertex"),$k:"flexPolygonBlock.contextMenu.deleteVertex",
visible:(e,f)=>(c=c||a(e,f))&&3<c.block.Qw.value.length?!0:!1,action:()=>{if(c){var e=c.block,f=c.index;l_l.fb(e.Qw.value[f],c.Bf)&&l_J7i(e,f);c=void 0}}},{label:i18n.get("flex-polygon-add-vertex"),$k:"flexPolygonBlock.contextMenu.addVertex",visible:(e,f)=>(d=d||b(e,f))&&!c?!0:!1,action:e=>{if(d){var f=d.block,g=d.index,h=f.hUe.value;l_l.fb(h[g].ck,d.ck)&&l_l.fb(h[g].Wm,d.Wm)&&l_K7i(f,e,g);d=void 0}}}]}
var l_M7i=class extends l_E{constructor(a,b,c){super(a);this.En=b;this.selection=c;this.Qw=new l_mwd(l_y7i,l_A7i(5),this.internal.$a);this.modified=new l_8w(l_z7i,!1,this.internal.$a);this.sBg=new l_w(this,()=>{const d=this.Ba.value;let e=l_D7i(this.Qw.value,this.Ba.value);const f=this.properties.flipX.value,g=this.properties.flipY.value,h=this.center.value,k=this.properties.rotation.value;if(f||g||k)e=e.map(l=>l_E7i(this,l,d,f,g,h,k));return e},l_cf);this.hUe=new l_w(this,()=>{const d=this.sBg.value;
return d.map((e,f)=>({ck:e,Wm:d[(f+1)%d.length]}))},l_Th);this.pb("Text","",()=>{const d=this.Ba.value;return new l_wb(d.x,d.y,d.w,d.h)},l_LL({}))}qa(){return[l_Iu(new l_C(this.Rkk),{fillColor:this.properties.fillColor.value,lineWidth:this.properties.lineWidth.value,zc:!0,strokeColor:this.properties.Pa.value,bBb:!0})]}get Rkk(){const a=this.size.value,b=[];this.Qw.value.forEach((c,d)=>{b.push(0==d?new l_B(a.w*c.x,a.h*c.y):new l_A(a.w*c.x,a.h*c.y))});b.push(new l_y);return b}Ho(){const a=[];this.Qw.value.forEach((b,
c)=>{a.push({location:()=>l_G7i(this,b),Mi:d=>{d=l_C7i([d],this.Ba.value)[0];const e=this.Qw.Sb();e[c]=d;l_F7i(this,e,c)},zG:()=>l_s.Of(this.Ba.value,1E4),Yeh:()=>l_Nn[16]&&l_On(),Iu:4})});return a}BA(a,b){if(this.selection.getItem(this.id)){var c=l_H7i(this,a),d=l_I7i(this,a),e=d&&3<this.Qw.value.length?d.index:-1;if(0<=e||c)return{xf:f=>{f&&(0<=e&&b.shift&&b.hQ?l_J7i(this,e):!c||b.shift||b.hQ||l_K7i(this,a,c.index))},cursor:()=>"pointer",tBa:!1,Hv:!1}}}gb(){return l_2K.map((a,b)=>{const c=this.Cu(a);
b=this.Cu(l_2K[(b+2)%l_2K.length]);return l_20e(this,l_v7i(c,b,this.HZf.value[0])||c)||a})}zG(){const a=this.sBg.value,b=a.map(f=>f.x),c=a.map(f=>f.y);let d=0,e=a.length-1;for(let f=0;f<a.length;f++)d+=(b[e]+b[f])*(c[e]-c[f]),e=f;return d=Math.abs(d/2)}};const l_N7i=new l_h("Side"),l_O7i=new l_h("Position"),l_P7i=new l_h("TailAngle"),l_Q7i=new l_h("TailWidth"),l_R7i=new l_h("RoundCorners");function l_S7i(a,b=a.Ba.value){return.3*1.5*Math.min(b.h,b.w)}function l_T7i(a,b,c,d,e=0){const f=d/2;switch(a){case 0:return{x:(c.w-d)*b+f,y:-e};case 1:return{x:c.w+e,y:(c.h-d)*b+f};case 2:return{x:(c.w-d)*b+f,y:c.h+e};case 3:return{x:-e,y:(c.h-d)*b+f};default:return{x:0,y:0}}}
var l_V7i=class extends l_5K{constructor(a){super(a,null,l_U7i);this.qm=new l_5w(l_N7i,0,this.internal.$a);this.position=new l_5w(l_O7i,25,this.internal.$a);this.A2a=new l_5w(l_P7i,-40,this.internal.$a);this.vna=new l_5w(l_Q7i,15,this.internal.$a);this.u2=new l_5w(l_R7i,5,this.internal.$a);this.minWidth.value=120;this.minHeight.value=40;this.pb("Text","",()=>l_4K(this,{0:b=>this.Qq(b),1:b=>this.hNa(b),2:b=>this.zS(b),6:b=>l_x1e(this,b)}),l_LL({}))}Qq(a){return new l_wb(a.x+.1*a.w,a.y+.1*a.h,.8*a.w,
.8*a.h)}NGb(){return this.qm.value}getPosition(){return this.position.value}Eyb(a,b,c,d,e){a||(a=this.NGb());b||(b=this.getPosition());1<Math.abs(b)&&(b/=100);c||(c=this.Ba.value);e||(e=.2*c.w);a=l_T7i(a,b,c,e);return{x:c.x+a.x,y:c.y+a.y}}zof(){const a=this.NGb(),b=this.getPosition()/100,c=this.Ba.value,d=this.A2a.value,e=l_T7i(a,b,c,.2*c.w,l_S7i(this));return l_Ej({x:c.x+e.x,y:c.y+e.y},this.Eyb(a,b,c),Math.PI/180*d)}qa(){const a=this.size.value,b=l_S7i(this),c=.2*a.w;var d=c/2;const e=this.getPosition()/
100,f=this.A2a.value||0,g=this.NGb(),h=[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}],k=(l,m,n,p,q)=>{const r=this.Eyb(g,e,a,b,c);p=l_Ej(p,{x:r.x-a.x,y:r.y-a.y},Math.PI/180*f);h.splice(l,m,{Action:"line",x:n.x,y:n.y},{Action:"line",x:p.x,y:p.y},{Action:"line",x:q.x,y:q.y})};switch(g){case 0:k(1,0,{x:a.x+(a.w-c)*e,y:a.y},{x:a.x+(a.w-c)*e+d,y:a.y-b},{x:a.x+(a.w-c)*e+c,y:a.y});break;case 1:k(2,0,{x:a.x+
a.w,y:a.y+(a.h-c)*e},{x:a.x+a.w+b,y:a.y+(a.h-c)*e+d},{x:a.x+a.w,y:a.y+(a.h-c)*e+c});break;case 2:k(3,0,{x:a.x+(a.w-c)*e+c,y:a.y+a.h},{x:a.x+(a.w-c)*e+d,y:a.y+a.h+b},{x:a.x+(a.w-c)*e,y:a.y+a.h});break;case 3:k(4,0,{x:a.x,y:a.y+(a.h-c)*e+c},{x:a.x-b,y:a.y+(a.h-c)*e+d},{x:a.x,y:a.y+(a.h-c)*e})}d=new l_C(h.filter(l=>{switch(l.Action){case "line":case "move":case "close":return!0}return!1}).map(l=>{switch(l.Action){case "move":return new l_B(l.x,l.y);case "line":return new l_A(l.x,l.y)}return new l_y}));
return[new l_(d,this.properties.fillColor.value,this.properties.lineWidth.value,!0,this.properties.Pa.value)]}tg(a){a=super.tg(a);a.properties[this.id].MinLayerPadding=l_S7i(this,a.properties[this.id].BoundingBox);return a}Ho(){if(!this.Ba.value)return[];const a=(b,c)=>this.Eyb(this.NGb(),this.getPosition(),this.Ba.value,b,c);return[{$k:"chart.viewport.selection.spatialControls.shapes.calloutTail",location:()=>{const b=a();return{x:b.x-5,y:b.y-5,w:10,h:10}},Mi:b=>{const c=this.Ba.value,d=.2*c.w,e=
d/2;let f=0;b.x>=c.x+c.w?f=1:b.y>=c.y+c.h?f=2:b.x<=c.x&&(f=3);let g=0;switch(f){case 0:case 2:g=(b.x-c.x-e)/(c.w-d);break;case 1:case 3:g=(b.y-c.y-e)/(c.h-d)}g=Math.round(100*Math.min(1,Math.max(0,g)));45<g&&55>g&&(g=50);this.qm.Oa(f);this.position.Oa(g)},path:()=>{const b=this.Ba.value;return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}]},eaa:!0},{location:()=>{const b=this.zof();return{x:b.x-5,y:b.y-5,w:10,h:10}},Mi:b=>{const c=a();let d=0;switch(this.NGb()){case 0:d=
-1*Math.atan2(c.x-b.x,c.y-b.y);break;case 1:d=Math.atan2(b.y-c.y,b.x-c.x);break;case 2:d=-1*Math.atan2(b.x-c.x,b.y-c.y);break;case 3:d=Math.atan2(c.y-b.y,c.x-b.x)}d=Math.round(180*d/Math.PI);80<d?d=80:-80>d?d=-80:-5<d&&5>d&&(d=0);this.A2a.Oa(d)},eaa:!0}]}static register(a,b){b.register({ia:a,className:"CalloutBlock",ka:l_V7i,name:"Callout",ha:"",Oi:i18n.get("plugin-geometricshapes-shape-callout"),aa:{w:120,h:40}})}},l_U7i=[];const l_W7i=new l_h("FoldDepth");
var l_X7i=class extends l_5K{constructor(a){super(a,null);this.Cad=new l_5w(l_W7i,.2,this.internal.$a);this.pb("Text","",()=>{const b=this.Ba.value,c=this.Cad.value*(b.h>b.w?b.w:b.h);return l_tvb(this.Uw,[{Msc:0,value:new l_wb(b.x+.5*c,b.y,b.w-c,b.h-.5*c)}])},l_LL({}))}qa(){const a=this.size.value,b=this.Cad.value*(a.h>a.w?a.w:a.h);let c=this.properties.fillColor.value;c instanceof l_m&&(c=c.La(.3));return[new l_(new l_C([new l_B(a.x,a.y),new l_A(a.x+a.w,a.y),new l_A(a.x+a.w,a.y+a.h-b),new l_A(a.x+
a.w-b,a.y+a.h),new l_A(a.x,a.y+a.h),new l_y]),this.properties.fillColor.value,this.properties.lineWidth.value,!0,this.properties.Pa.value),new l_(new l_C([new l_B(a.x+a.w,a.y+a.h-b),new l_A(a.x+a.w-b,a.y+a.h),new l_A(a.x+a.w-.8*b,a.y+a.h-.8*b),new l_y]),c,this.properties.lineWidth.value,!0,this.properties.Pa.value)]}static register(a,b){b.register({ia:a,className:"DogEarNoteBlock",ka:l_X7i,name:"Dog Ear Note",ha:"",Oi:"",aa:{w:140,h:140}})}};const l_Y7i=new l_h("Notch"),l_Z7i=new l_h("Head");
var l_07i=class extends l_5K{constructor(a){super(a,null,l__7i);this.pV=new l_5w(l_Y7i,.25,this.internal.$a);this.head=new l_5w(l_Z7i,.5,this.internal.$a);this.pb("Text","",()=>{const b=this.Ba.value,c=this.pV.value*b.w;return l_tvb(this.Uw,[{Msc:0,value:new l_wb(b.x+c,b.y,b.w-2*c,b.h-.5*this.head.value*(b.h>b.w?b.w:b.h))}])},l_LL({}));this.vJa.value=[{x:1,y:.5},{x:0,y:.5}]}qa(){const a=this.size.value,b=this.pV.value*a.w,c=this.head.value*(a.h>a.w?a.w:a.h);return[new l_(new l_C([new l_B(a.x+b,a.y),
new l_A(a.x+a.w-b,a.y),new l_A(a.x+a.w-b,a.y+a.h-c),new l_A(a.x+a.w,a.y+a.h-c),new l_A(a.x+a.w/2,a.y+a.h),new l_A(a.x,a.y+a.h-c),new l_A(a.x+b,a.y+a.h-c),new l_y]),this.properties.fillColor.value,this.properties.lineWidth.value,!0,this.properties.Pa.value)]}static register(a,b){b.register({ia:a,className:"DownArrowBlock",ka:l_07i,name:"DownArrow",ha:"",Oi:"",aa:{w:80,h:160}})}},l__7i=[];const l_17i=new l_h("Notch"),l_27i=new l_h("Head");
var l_47i=class extends l_5K{constructor(a){super(a,null,l_37i);this.pV=new l_5w(l_17i,.25,this.internal.$a);this.head=new l_5w(l_27i,.5,this.internal.$a);this.pb("Text","",()=>{const b=this.Ba.value,c=this.head.value*(b.h>b.w?b.w:b.h),d=this.pV.value*b.h;return l_tvb(this.Uw,[{Msc:0,value:new l_wb(b.x+.5*c,b.y+d,b.w-.5*c,b.h-2*d)}])},l_LL({}));this.vJa.value=[{x:1,y:.5},{x:0,y:.5}]}qa(){const a=this.size.value,b=this.pV.value*a.h,c=this.head.value*(a.h>a.w?a.w:a.h);return[new l_(new l_C([new l_B(a.x,
a.y+a.h/2),new l_A(a.x+c,a.y),new l_A(a.x+c,a.y+b),new l_A(a.x+a.w,a.y+b),new l_A(a.x+a.w,a.y+a.h-b),new l_A(a.x+c,a.y+a.h-b),new l_A(a.x+c,a.y+a.h),new l_y]),this.properties.fillColor.value,this.properties.lineWidth.value,!0,this.properties.Pa.value)]}static register(a,b){b.register({ia:a,className:"LeftArrowBlock",ka:l_47i,name:"LeftArrow",ha:"",Oi:"",aa:{w:160,h:80}})}},l_37i=[];var l_77i=class extends l_5K{constructor(a){super(a,l_57i,l_67i);this.pb("Text","",()=>l_4K(this,!0),l_LL({}))}Qq(a){return new l_wb(a.x+.1*a.w,a.y+.2*a.h,.8*a.w,.8*a.h)}static register(a,b){b.register({ia:a,className:"StarBlock",ka:l_77i,name:"Star",ha:"shape, star, polygon",Oi:"",aa:{w:160,h:152}})}},l_57i=l_D("M0 0.382L0.3819 0.382 0.5 0 0.618 0.382 1 0.382 0.691 0.6181 0.809 1 0.5 0.764 0.191 1 0.309 0.618Z"),l_67i=[{x:0,y:.382},{x:.5,y:0},{x:1,y:.382},{x:.809,y:1},{x:.191,y:1}];const l_87i=new l_h("Notch"),l_97i=new l_h("Head");
var l_a8i=class extends l_5K{constructor(a){super(a,null,l_$7i);this.pV=new l_5w(l_87i,.25,this.internal.$a);this.head=new l_5w(l_97i,.5,this.internal.$a);this.pb("Text","",()=>{const b=this.Ba.value,c=this.head.value*(b.h>b.w?b.w:b.h),d=this.pV.value*b.w;return l_tvb(this.Uw,[{Msc:0,value:new l_wb(b.x+.5*c,b.y+d,b.w-.5*c,b.h-2*d)}])},l_LL({}));this.vJa.value=[{x:.5,y:1},{x:.5,y:0}]}qa(){const a=this.size.value,b=this.pV.value*a.w,c=this.head.value*(a.h>a.w?a.w:a.h);return[new l_(new l_C([new l_B(a.x+
a.w/2,a.y),new l_A(a.x+a.w,a.y+c),new l_A(a.x+a.w-b,a.y+c),new l_A(a.x+a.w-b,a.y+a.h),new l_A(a.x+b,a.y+a.h),new l_A(a.x+b,a.y+c),new l_A(a.x,a.y+c),new l_y]),this.properties.fillColor.value,this.properties.lineWidth.value,!0,this.properties.Pa.value)]}static register(a,b){b.register({ia:a,className:"UpArrowBlock",ka:l_a8i,name:"UpArrow",ha:"",Oi:"",aa:{w:80,h:160}})}},l_$7i=[];var l_c8i=class extends l_5K{constructor(a){super(a,null,l_b8i);this.pb("Text","",()=>l_4K(this),l_LL({}))}Qq(a){return new l_wb(a.x+.1*a.w,a.y+.15*a.h,.8*a.w,.55*a.h)}qa(){const a=this.size.value;return[new l_(new l_C([new l_B(a.x+.5*a.w,a.y+.2*a.h),new l_z([{x1:a.x+.52*a.w,y1:a.y+.1*a.h,x2:a.x+.63*a.w,y2:a.y+0*a.h,K:a.x+.75*a.w,V:a.y+0*a.h},{x1:a.x+.9*a.w,y1:a.y+0*a.h,x2:a.x+1*a.w,y2:a.y+.1*a.h,K:a.x+1*a.w,V:a.y+.28*a.h},{x1:a.x+1*a.w,y1:a.y+.55*a.h,x2:a.x+.65*a.w,y2:a.y+.67*a.h,K:a.x+.5*a.w,V:a.y+
1*a.h},{x1:a.x+.35*a.w,y1:a.y+.67*a.h,x2:a.x+0*a.w,y2:a.y+.55*a.h,K:a.x+0*a.w,V:a.y+.28*a.h},{x1:a.x+0*a.w,y1:a.y+.1*a.h,x2:a.x+.1*a.w,y2:a.y+0*a.h,K:a.x+.25*a.w,V:a.y+0*a.h},{x1:a.x+.37*a.w,y1:a.y+0*a.h,x2:a.x+.48*a.w,y2:a.y+.1*a.h,K:a.x+.5*a.w,V:a.y+.2*a.h}]),new l_y]),this.properties.fillColor.value,this.properties.lineWidth.value,!0,this.properties.Pa.value)]}static register(a,b){b.register({ia:a,className:"HeartBlock",ka:l_c8i,name:i18n.get("plugin-geometricshapes-shape-heart"),ha:"",Oi:i18n.get("plugin-geometricshapes-shape-heart"),
aa:{w:160,h:160}})}},l_b8i=[{x:.5,y:.2},{x:1,y:.28},{x:.5,y:1},{x:0,y:.28}];var l_f8i=class extends l_5K{constructor(a){super(a,l_d8i,l_e8i);this.pb("Text","",()=>l_4K(this),l_LL({}))}Qq(a){return new l_wb(a.x,a.y+.4*a.h,.6*a.w,.6*a.h)}xb(){return l_0d(super.xb(),["dockOnAnotherBlock","ShapeStyles"])}static register(a,b){b.register({ia:a,className:"RightTriangleBlock",ka:l_f8i,name:i18n.get("plugin-geometricshapes-shape-righttriangle-v2"),ha:"",Oi:i18n.get("plugin-geometricshapes-shape-righttriangle-v2"),aa:{w:160,h:120}})}},l_d8i=l_D("M0 0L0 1 1 1Z"),l_e8i=[{x:.5,y:.5},
{x:.5,y:1},{x:0,y:.5}];var l_k3,l_l3=l_k3=class extends l_M7i{xb(){return l_0d(super.xb(),["dockOnAnotherBlock","ShapeStyles"])}nk(a){super.nk(a);l_k3.nXc&&"DragBlock"!=this.id&&l_k3.nXc(this.page.value,this.Ba.value)}dI(){l_k3.E6c&&"DragBlock"!=this.id&&l_k3.E6c()}static register(a,b){b.register({ia:a,className:l_k3.className,ka:l_k3,name:i18n.get("plugin-shape-flex-polygon-v2"),ha:i18n.get("flex-polygon-search-keywords"),aa:{w:160,h:160},na:{Vertices:l_A7i(5)}})}static Uc(a){const b=c=>{const d=c[0];return 1==c.length&&
d instanceof l_k3?d:null};a.register({className:l_k3.className,propertyName:"Sides",value:(c,d)=>new l_Xq(c,function(){const e=b(d);return e?e.Qw.value.length:0},(e,f)=>e===f,function(e){const f=b(d);f&&(f.Qw.Oa(l_A7i(e)),f.modified.Oa(!1))}),enabled:(c,d)=>new l_w(c,()=>{const e=b(d);return!!e&&!e.modified.value},(e,f)=>e===f)});a.register({className:l_k3.className,propertyName:"Modified",value:(c,d)=>new l_Xq(c,function(){const e=b(d);return e?e.modified.value:!1},(e,f)=>e===f,()=>{}),enabled:(c,
d)=>new l_w(c,()=>!!b(d),(e,f)=>e===f)});a.register({className:l_k3.className,propertyName:"BlockId",value:(c,d)=>new l_Xq(c,function(){const e=b(d);return e?e.id:""},(e,f)=>e===f,()=>{}),enabled:(c,d)=>new l_w(c,()=>!!b(d),(e,f)=>e===f)})}};l_l3.nXc=null;l_l3.E6c=null;l_l3.className="FlexiblePolygonBlock";l_l3=l_k3=__decorate([l_v(),__metadata("design:paramtypes",[l_8,l_Qs,l_VN])],l_l3);var l_g8i=class{constructor(a,b){this.oR=a;this.EQa=b}};l_g8i=__decorate([l_v(),__param(1,l_8o(l__Lc)),__metadata("design:paramtypes",[l_3o,Object])],l_g8i);
var l_h8i=class extends l_WM{constructor(a,b){super("shapes.js",a);this.kl="^(Rectangle|IsoscelesTriangle|RightTriangle|Pentagon|Hexagon|Octagon|Cross|RightArrow|DoubleArrow|Cloud|Heart|ShapeCircle|ShapePolyStar|ShapeDiamond|CalloutSquare|Star|LeftArrow|UpArrow|DownArrow|Callout|DogEarNote|FlexiblePolygon|Rule)Block$";l_Vp(b.oR,l_x7i);l_kti.register(this.id,a.ma);l_nti.register(this.id,a.ma);l_f8i.register(this.id,a.ma);l_Eti.register(this.id,a.ma);l_yti.register(this.id,a.ma);l_Bti.register(this.id,
a.ma);l_Gti.register(this.id,a.ma);l_Mti.register(this.id,a.ma,b.EQa);l_Kti.register(this.id,a.ma,b.EQa);l_vti.register(this.id,a.ma);l_pti.register(this.id,a.ma);l_oti.register(this.id,a.ma);l_lti.register(this.id,a.ma);l_l3.register(this.id,a.ma);l_sti.register(this.id,a.ma);l_77i.register(this.id,a.ma);l_47i.register(this.id,a.ma);l_a8i.register(this.id,a.ma);l_07i.register(this.id,a.ma);l_V7i.register(this.id,a.ma);l_X7i.register(this.id,a.ma);l_c8i.register(this.id,a.ma);l_ohi.register(this.id,
a.ma);a="RectangleBlock IsoscelesTriangleBlock RightTriangleBlock PentagonBlock HexagonBlock OctagonBlock CrossBlock CloudBlock ShapeCircleBlock ShapePolyStarBlock ShapeDiamondBlock FlexiblePolygonBlock".split(" ");this.tJ.add(a);this.C3.add(a);a=["RectangleBlock","IsoscelesTriangleBlock","RightTriangleBlock","PentagonBlock","HexagonBlock","OctagonBlock","CrossBlock","CloudBlock",{className:"RightArrowBlock",variant:"RightArrow"},{className:"RightArrowBlock",variant:"DownArrow"},{className:"RightArrowBlock",
variant:"LeftArrow"},{className:"RightArrowBlock",variant:"UpArrow"},{className:"DoubleArrowBlock",variant:"EWArrow"},{className:"DoubleArrowBlock",variant:"NSArrow"},"ShapeCircleBlock","ShapePolyStarBlock","ShapeDiamondBlock",{className:"FlexiblePolygonBlock",helperSvg:l_w7i.Ym()},{className:"RuleBlock",variant:"Horizontal Rule"},{className:"RuleBlock",variant:"Vertical Rule"}];this.$d.Gn(this.id,{Shapes:{displayName:i18n.get("plugin-geometricshapes-group-shapes"),items:a}})}$M(){return l_L7i()}};
l_h8i=__decorate([l_v(),__metadata("design:paramtypes",[l_XM,l_g8i])],l_h8i);l_YM.set("shapes",l_h8i);
//# sourceURL=/js/application/chart_app/chunk/shapes.js?compiled=1
