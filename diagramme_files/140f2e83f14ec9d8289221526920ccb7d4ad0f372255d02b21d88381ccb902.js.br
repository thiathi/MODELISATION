l_E.prototype.isType=l_b(607,function(){return!1});l_rM.prototype.isType=l_b(606,function(a){return"stickyNote"===a});l_5M.prototype.isType=l_b(605,function(a){return"frame"===a});l__di.prototype.isType=l_b(604,function(a){return"container"===a});function l_9Bi(a){a.dispatchEvent(new l_nJc)}function l_$Bi(a,b){const c=a.length;let d=0;for(let e=0;e<c;e++)b(a[e])&&(e!=d&&(a[d]=a[e]),d++);a.length=d}var l_aCi=l_ti({YSb:"color",Csg:"reaction",Tag:"tag",Bsg:"reacted by",wqg:"keyword",nOe:"votes",zug:"voted by"});var l_bCi=l_ti({rem:"left nav",hzl:"contextual formatting",dzm:"nudge"});var l_cCi=l_ti({FNe:"sticky note"});var l_dCi,l_eCi=l_dCi=class{constructor(a){this.name="gatheredShapes";this.documentId=a.documentId;this.Cx=a.Cx;this.xlf=a.xlf;this.Xdb=a.Xdb;this.uda=a.uda;this.userId=a.userId;this.ISb=a.ISb}toJSON(){return l_dCi.Bb(this)}};
l_eCi=l_dCi=__decorate([l_vi({documentId:["documentId",l_k],Cx:["entryPoint",l_bCi],xlf:["gatherCriteria",l_hi(l_aCi)],Xdb:["shapeTypes",l_hi(l_cCi)],uda:["totalObjects",l_ri],userId:["userId",l_ri],ISb:["wasGlobal",l_li],name:["name",l_oi("gatheredShapes")]}),__metadata("design:paramtypes",[Object])],l_eCi);var l_O1=class{};l_O1.oa=function(a){return new (a||l_O1)};
l_O1.Ja=l_H({type:l_O1,Ea:[["lucid-spark-gather-category-option"]],inputs:{count:"count"},Jb:!0,features:[l_uA],Zf:["*"],Ka:3,Ia:1,Ma:[[1,"text"]],template:function(a,b){a&1&&(l_cA(),l_dA(0),l_R(1,"p",0),l_X(2),l_S());a&2&&(l_N(2),l_Y(b.count))},Na:[l_6],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-y:auto}.lucid-spark-gather-category-option-one-column[_nghost-%COMP%]{-webkit-box-flex:0;-ms-flex:0 100%;flex:0 100%}.lucid-spark-gather-category-option-one-column[_nghost-%COMP%]:not(:first-child){margin-top:4px}.lucid-spark-gather-category-option-two-columns[_nghost-%COMP%]{-webkit-box-flex:0;-ms-flex:0 50%;flex:0 50%}.lucid-spark-gather-category-option-two-columns[_nghost-%COMP%]:not(:nth-child(-n+2)){margin-top:8px}.lucid-spark-gather-category-option-overflow-y-visible[_nghost-%COMP%]{overflow-y:visible}.text[_ngcontent-%COMP%]{margin:0 0 0 8px;font-size:14px;line-height:20px;font-weight:var(--lucid-theme-normal-font-weight,400);font-style:normal;font-stretch:normal;color:#6f7681}"],changeDetection:0});function l_fCi(a,b){return a.B3b(a.xy.value).has(a.k3b(b))}var l_P1=class extends l_4B{constructor(){super(...arguments);this.options=new l_w(this,()=>this.jwc(),l_5i(this.nCh))}h6a(a){const b=l_Sh(this.xy.value);a=this.k3b(a);var c=this.B3b(b);c.has(a)?c.delete(a):c.add(a);this.xy.setValue(b)}Pn(a){return this.nwc().get(a)||0}nCh(a,b){return l_Th(a,b)}ngOnDestroy(){super.Pb()}};l_P1.oa=function(){let a;return function(b){return(a||(a=l_Az(l_P1)))(b||l_P1)}}();l_P1.Rd=l_iz({type:l_P1,features:[l_O]});var l_gCi=class extends l_5l{constructor(a){super();this.selection=a;this.Gc=new l_w(this,()=>{const b=this.selection.kc()[0];if(this.WSj.value||this.KTj.value||this.njh.value)return b.id},l_d);this.njh=new l_w(this,()=>{const b=this.selection.kc();if(2!==b.length||!b.every(e=>{let f,g;return l_E.Qb(e)&&9===(null==(f=e.getGenerator())?void 0:f.Gka())&&(null==(g=e.getGenerator())?void 0:g.j6b(e))&&0===e.Gea.value.length}))return!1;const c=b[0].getGenerator();let d;return c===b[1].getGenerator()&&c instanceof
l_D5e&&0===(null==(d=c.ed.value)?void 0:d.uea.ev.value.size)},l_d);this.KTj=new l_w(this,()=>{const b=this.selection.kc();return 1===b.length&&l_E.Qb(b[0])&&!b[0].dl("gatherBy")&&b[0].isType("frame")&&0===b[0].Gea.value.length},l_d);this.WSj=new l_w(this,()=>{const b=this.selection.kc(),c=b[0];return 1===b.length&&l_E.Qb(c)&&!c.dl("gatherBy")&&c.isType("container")&&0===c.Gea.value.length},l_d)}Ud(){return null!=this.Ra()}};l_gCi=__decorate([l_v(),__metadata("design:paramtypes",[l_VN])],l_gCi);function l_hCi(a,b){switch(b){case l_iCi:return a.document.Mh.values();case l_jCi:return a.selection.items.value.filter(l_E.Qb)}}function l_kCi(a,b){const c=a.Cd.jr();return!b.Ce("p")&&b.parent.value===c&&a.eSi.value.has(b.Tb())}var l_Q1=class extends l_5l{constructor(a,b,c){super();this.document=a;this.selection=b;this.Cd=c;this.eSi=new l_x(this,new Set(l_lCi),l_Zd);this.t7d=new l_x(this,l_iCi,l_d);this.Gc=new l_w(this,()=>l_hCi(this,this.t7d.value).filter(d=>l_kCi(this,d)),l_cf);this.I8j=2}};
l_Q1=__decorate([l_v(),__metadata("design:paramtypes",[l_AM,l_VN,l_kM])],l_Q1);var l_iCi="document",l_jCi="selection";const l_lCi=["StickiesStickyNoteBlock","DefaultStickyNoteBlock"];var l_mCi=["sticky note"];function l_nCi(a,b){b=l_Sh(b);delete b.fill;return l_oCi(a,b,c=>{c=c.properties.fillColor.value;return c instanceof l_m?[c.toJSON()]:[]})}function l_pCi(a,b){const c=l_Sh(b);delete c.yN;let d;const e=new Set(null!=(d=b.aNb)?d:[]);return l_oCi(a,c,f=>0<e.size?f.CZ.value.filter(g=>g.cka.some(h=>e.has(h))).map(g=>g.type):f.CZ.value.map(g=>g.type))}
function l_qCi(a,b){b=l_Sh(b);delete b.aNb;let c;const d=null!=(c=b.yN)?c:new Set;return l_oCi(a,b,e=>{e=e.CZ.value;0<d.size&&(e=e.filter(g=>d.has(g.type)));const f=new Set;for(const g of e)for(const h of g.cka)f.add(h);return Array.from(f)})}function l_rCi(a,b){b=l_Sh(b);delete b.x$;return l_oCi(a,b,c=>c.tags.value)}
function l_sCi(a,b){b=l_Sh(b);delete b.LP;const c=a.Ap.HHd.values(),d=new Map;b=l_oCi(a,b,e=>c.map(f=>{if(f.ended){var g=f.ended,h,k=null==(h=l_k$c(a.Ap,e.id).get(f.id))?void 0:l__ea(h);if(k)return l_qg(d,f.id,l=>{l.egb.add(k);return l},()=>({title:f.title,ended:g,color:f.color,egb:new Set([k])})),{sessionId:f.id,LP:k}}}).filter(l_ec),l_tCi);return{Mcl:d,w7e:b}}
function l_uCi(a,b){b=l_Sh(b);delete b.zxb;const c=a.Ap.HHd.values().filter(e=>!e.tFa),d=new Map;b=l_oCi(a,b,e=>l_Yi(c,f=>{if(!f.ended)return[];const g=f.ended;let h;const k=null==(h=l_k$c(a.Ap,e.id).get(f.id))?void 0:h.pMa;if(null==k||!k.size)return[];l_qg(d,f.id,l=>{l.HId=l_1d(l.HId,k.keys());return l},()=>({title:f.title,ended:g,color:f.color,HId:new Set(k.keys())}));return Array.from(k,([l])=>({sessionId:f.id,GId:l}))}),l_vCi);return{Ocl:d,w7e:b}}
function l_R1(a,b){const c=a.Omb.Ra().slice();if(0===c.length)return[];if(b.fill&&0<b.fill.size){const d=b.fill;l_$Bi(c,e=>{e=e.properties.fillColor.value;return e instanceof l_m?d.has(e.toJSON()):!1})}if(b.yN||b.aNb){let d;const e=null!=(d=b.yN)?d:new Set;let f;const g=null!=(f=b.aNb)?f:new Set;(0<e.size||0<g.size)&&l_$Bi(c,h=>h.CZ.value.some(k=>(0===e.size||e.has(k.type))&&(0===g.size||k.cka.some(l=>g.has(l)))))}if(b.x$&&0<b.x$.size){const d=b.x$;l_$Bi(c,e=>e.tags.value.map(f=>f.id).some(f=>d.has(f)))}if(b.keyword&&
0<b.keyword.size){const d=XRegExp([...b.keyword].map(e=>l_46b(e)).join("|"),"i");l_$Bi(c,e=>{e=e.zb.value;for(const f of e.values())if(!f.Fk()&&(e=f.content.value.EA(),XRegExp.test(e,d)))return!0;return!1})}if(b.LP&&0<b.LP.size){const d=b.LP;l_$Bi(c,e=>[...d].some(f=>{let g,h;return(null!=(h=null==(g=l_k$c(a.Ap,e.id).get(f.sessionId))?void 0:l__ea(g))?h:0)===f.LP}))}if(b.zxb&&0<b.zxb.size){const d=b.zxb;l_$Bi(c,e=>[...d].some(f=>{let g,h,k;return null!=(k=null==(g=l_k$c(a.Ap,e.id).get(f.sessionId))?
void 0:null==(h=g.pMa)?void 0:h.has(f.GId))?k:!1}))}return c}function l_oCi(a,b,c,d){a=l_R1(a,b);d=d?new l_8h(d):new Map;for(const e of a)for(const f of c(e))l_qg(d,f,g=>g+1,()=>1);return d}function l_wCi(a,b){const c=d=>d?d.size:0;return 0===c(b.fill)+c(b.yN)+c(b.aNb)+c(b.x$)+c(b.keyword)+c(b.LP)+c(b.zxb)?[]:l_R1(a,b)}
var l_S1=class extends l_g{constructor(a,b){super();this.Omb=a;this.Ap=b;this.nYc=new l_w(this,()=>new Set(l_nCi(this,{}).keys()),l_Zd);this.uCg=new l_w(this,()=>new Set(l_pCi(this,{}).keys()),l_Zd);this.tCg=new l_w(this,()=>new Set(l_qCi(this,{}).keys()),l_Zd);this.Dzb=new l_w(this,()=>new Set(l_rCi(this,{}).keys()),l_Zd);this.nua=new l_w(this,()=>l_sCi(this,{}).Mcl,(c,d)=>l_lg(c,d,l_xCi));this.BCg=new l_w(this,()=>l_uCi(this,{}).Ocl,(c,d)=>l_lg(c,d,l_yCi));this.u7d={[l_zCi]:()=>[...this.nYc.value].map(c=>
({blocks:l_R1(this,{fill:new Set([c])})})),[l_ACi]:()=>[...this.Dzb.value].map(c=>({label:c.getLabel(),blocks:l_R1(this,{x$:new Set([c.id])})})),[l_BCi]:c=>{const {J2f:d,$lg:e}=(()=>{if(c){var f=this.nua.value.get(c);return f?{J2f:[c],$lg:f.egb}:{J2f:[],$lg:new Set}}f=Array.from(this.nua.value);return{J2f:f.map(([g])=>g),$lg:f.reduce((g,[,h])=>l_1d(g,h.egb),new Set)}})();return Array.from(e).sort((f,g)=>f-g).map(f=>({label:i18n.get("spark-sort-votes-container-label",{votes:f}),blocks:l_R1(this,{LP:l_$3f(l_tCi,
d.map(g=>({sessionId:g,LP:f})))})}))}}}};l_S1=__decorate([l_v(),__metadata("design:paramtypes",[l_Q1,l_Ex])],l_S1);function l_tCi(a){return`{sessionId:'${a.sessionId}', votes:${a.LP}}`}function l_xCi(a,b){return a.title===b.title&&a.ended.getTime()===b.ended.getTime()&&a.color.equals(b.color)&&l_Zd(a.egb,b.egb)}function l_vCi(a){return`{sessionId:'${a.sessionId}', voterId:${a.GId}}`}
function l_yCi(a,b){return a.title===b.title&&a.ended.getTime()===b.ended.getTime()&&a.color.equals(b.color)&&l_Zd(a.HId,b.HId)}var l_zCi="color",l_ACi="tag",l_BCi="votes";function l_CCi(a,b){if(a&1){const c=l_J();l_R(0,"lucid-spark-gather-category-option",1)(1,"span",2);l_U("lucidClick",function(){const d=l_K(c).Fa,e=l_V();return l_L(e.h6a(d))});l_T(2,"lucid-icon",3);l_S()()}a&2&&(a=b.Fa,b=l_V(),l_Q("count",a.count),l_N(1),l_W("selected",l_fCi(b,a)),l_N(1),l_Q("icon",l_DCi(b,a)))}function l_DCi(a,b){let c;return null==(c=a.Bz.p0b.get(b.yN))?void 0:l_Evc(c)}
var l_ECi=class extends l_P1{constructor(a,b){super();this.Jr=a;this.Bz=b}k3b(a){return a.yN}B3b(a){return a.yN}jwc(){return this.o2b().map(a=>this.getOption(a))}o2b(){const a=l_pCi(this.Jr,{});return[...this.Jr.uCg.value].sort((b,c)=>{b=a.get(b)||0;return(a.get(c)||0)-b})}nwc(){return l_pCi(this.Jr,this.xy.value)}getOption(a){const b=this.Pn(a);return{yN:a,count:b}}};l_ECi.Aa=()=>[{type:l_S1},{type:l_JL}];l_ECi.oa=function(a){return new (a||l_ECi)(l_M(l_S1),l_M(l_JL))};
l_ECi.Ja=l_H({type:l_ECi,Ea:[["lucid-spark-gather-reaction-category"]],inputs:{xy:"settingsPipe"},Jb:!0,features:[l_O,l_uA],Ka:2,Ia:3,Ma:[["class","lucid-spark-gather-category-option-two-columns",3,"count",4,"ngFor","ngForOf"],[1,"lucid-spark-gather-category-option-two-columns",3,"count"],[1,"reaction",3,"lucidClick"],[1,"icon",3,"icon"]],template:function(a,b){a&1&&(l_P(0,l_CCi,3,4,"lucid-spark-gather-category-option",0),l__(1,"lucidPipeValue"));a&2&&l_Q("ngForOf",l_0(1,1,b.options))},Na:[l_6,l_lB,
l_mG,l_iG,l_nF,l_kF,l_kE,l_hE,l_O1],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}lucid-spark-gather-category-option[_ngcontent-%COMP%]{height:32px}.reaction[_ngcontent-%COMP%]{height:24px;width:28px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:1px 2px;border:1px solid #dfe3e8;border-radius:16px;cursor:pointer}.reaction.selected[_ngcontent-%COMP%]{background:#dedeff;border-color:#2f3296}.reaction[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{-webkit-transform:scale(.7,.7);-ms-transform:scale(.7,.7);transform:scale(.7,.7)}"],
changeDetection:0});__decorate([l_0q(),__metadata("design:type",l_Kq)],l_ECi.prototype,"xy",void 0);function l_FCi(a,b){if(a&1){const c=l_J();l_R(0,"lucid-spark-gather-category-option",1)(1,"span",2);l_U("lucidClick",function(){const d=l_K(c).Fa,e=l_V();return l_L(e.h6a(d))});l_X(2);l_S()()}a&2&&(a=b.Fa,b=l_V(),l_Q("count",a.count),l_N(1),l_W("selected",l_fCi(b,a)),l_N(1),l_Z(" ",a.name," "))}
var l_GCi=class extends l_P1{constructor(a,b){super();this.Jr=a;this.vU=b}k3b(a){return a.qh}B3b(a){return a.aNb}jwc(){return this.o2b().map(a=>this.getOption(a))}o2b(){return[...this.Jr.tCg.value].sort((a,b)=>{a=this.vU.JXa(a);b=this.vU.JXa(b);return a.localeCompare(b)})}nwc(){return l_qCi(this.Jr,this.xy.value)}getOption(a){const b=this.Pn(a);return{name:l_sob(a,this.vU.JXa(a)),qh:a,count:b}}};l_GCi.Aa=()=>[{type:l_S1},{type:l_TH}];l_GCi.oa=function(a){return new (a||l_GCi)(l_M(l_S1),l_M(l_TH))};
l_GCi.Ja=l_H({type:l_GCi,Ea:[["lucid-spark-gather-reacted-by-category"]],inputs:{xy:"settingsPipe"},Jb:!0,features:[l_O,l_uA],Ka:2,Ia:3,Ma:[["class","lucid-spark-gather-category-option-one-column",3,"count",4,"ngFor","ngForOf"],[1,"lucid-spark-gather-category-option-one-column",3,"count"],[1,"user-bubble",3,"lucidClick"]],template:function(a,b){a&1&&(l_P(0,l_FCi,3,4,"lucid-spark-gather-category-option",0),l__(1,"lucidPipeValue"));a&2&&l_Q("ngForOf",l_0(1,1,b.options))},Na:[l_6,l_lB,l_mG,l_iG,l_kE,
l_hE,l_O1],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:204px}.user-bubble[_ngcontent-%COMP%]{min-height:24px;max-height:48px;padding:1px 8px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow-y:auto;border:1px solid #dfe3e8;border-radius:16px;cursor:pointer;font-size:14px;line-height:20px;font-weight:var(--lucid-theme-normal-font-weight,400);font-style:normal;font-stretch:normal}.user-bubble.selected[_ngcontent-%COMP%]{background:#dedeff;border-color:#2f3296;color:#2f3296}"],
changeDetection:0});__decorate([l_0q(),__metadata("design:type",l_Kq)],l_GCi.prototype,"xy",void 0);function l_HCi(a,b){if(a&1){const c=l_J();l_R(0,"lucid-spark-gather-category-option",1)(1,"lucid-tag-item",2);l_U("lucidClick",function(){const d=l_K(c).Fa,e=l_V();return l_L(e.h6a(d))});l_S()()}a&2&&(a=b.Fa,b=l_V(),l_Q("count",a.count),l_N(1),l_Q("label",a.label)("color",a.color)("isSelected",l_fCi(b,a)))}
var l_ICi=class extends l_P1{constructor(a){super();this.Jr=a}k3b(a){return a.id}B3b(a){return a.x$}jwc(){return this.o2b().map(a=>this.getOption(a))}o2b(){return[...this.Jr.Dzb.value].sort((a,b)=>a.getLabel().localeCompare(b.getLabel()))}nwc(){return l_rCi(this.Jr,this.xy.value)}getOption(a){const b=this.Pn(a);return{id:a.id,label:a.getLabel(),color:a.Ca(),count:b}}};l_ICi.Aa=()=>[{type:l_S1}];l_ICi.oa=function(a){return new (a||l_ICi)(l_M(l_S1))};
l_ICi.Ja=l_H({type:l_ICi,Ea:[["lucid-spark-gather-tag-category"]],inputs:{xy:"settingsPipe"},Jb:!0,features:[l_O,l_uA],Ka:2,Ia:3,Ma:[["class","lucid-spark-gather-category-option-one-column",3,"count",4,"ngFor","ngForOf"],[1,"lucid-spark-gather-category-option-one-column",3,"count"],[1,"tag",3,"label","color","isSelected","lucidClick"]],template:function(a,b){a&1&&(l_P(0,l_HCi,2,4,"lucid-spark-gather-category-option",0),l__(1,"lucidPipeValue"));a&2&&l_Q("ngForOf",l_0(1,1,b.options))},Na:[l_6,l_lB,
l_mG,l_iG,l_kE,l_hE,l_eXg,l_0Oe,l_O1],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:204px}.tag[_ngcontent-%COMP%]{overflow-y:auto;cursor:pointer}"],changeDetection:0});__decorate([l_0q(),__metadata("design:type",l_Kq)],l_ICi.prototype,"xy",void 0);function l_JCi(a,b){if(a&1){const c=l_J();l_R(0,"lucid-spark-gather-category-option",1)(1,"lucid-colored-circle",2);l_U("lucidClick",function(){const d=l_K(c).Fa,e=l_V();return l_L(e.h6a(d))});l_S()()}a&2&&(a=b.Fa,b=l_V(),l_Q("count",a.count),l_N(1),l_W("lucid-colored-circle-selected",l_fCi(b,a)),l_Q("color",a.color),l_8z("data-test-id",`spark-gather-color-category-option-color-circle-${a.color}`))}
var l_KCi=class extends l_P1{constructor(a){super();this.Jr=a}k3b(a){return a.color.toJSON()}B3b(a){return a.fill}jwc(){return this.o2b().map(a=>this.getOption(a))}o2b(){const a=l_nCi(this.Jr,{});return[...this.Jr.nYc.value].sort((b,c)=>{b=a.get(b)||0;return(a.get(c)||0)-b})}nwc(){return l_nCi(this.Jr,this.xy.value)}getOption(a){const b=this.Pn(a);return{color:l_o(a),count:b}}nCh(a,b){return a.color.equals(b.color)&&a.count===b.count}};l_KCi.Aa=()=>[{type:l_S1}];
l_KCi.oa=function(a){return new (a||l_KCi)(l_M(l_S1))};
l_KCi.Ja=l_H({type:l_KCi,Ea:[["lucid-spark-gather-color-category"]],inputs:{xy:"settingsPipe"},Jb:!0,features:[l_O,l_uA],Ka:2,Ia:3,Ma:[["class","lucid-spark-gather-category-option-two-columns lucid-spark-gather-category-option-overflow-y-visible",3,"count",4,"ngFor","ngForOf"],[1,"lucid-spark-gather-category-option-two-columns","lucid-spark-gather-category-option-overflow-y-visible",3,"count"],[1,"color",3,"color","lucidClick"]],template:function(a,b){a&1&&(l_P(0,l_JCi,2,5,"lucid-spark-gather-category-option",
0),l__(1,"lucidPipeValue"));a&2&&l_Q("ngForOf",l_0(1,1,b.options))},Na:[l_6,l_lB,l_mG,l_iG,l_jV,l_zJ,l_kE,l_hE,l_O1],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.color[_ngcontent-%COMP%]{margin-left:4px;cursor:pointer}"],changeDetection:0});__decorate([l_0q(),__metadata("design:type",l_Kq)],l_KCi.prototype,"xy",void 0);var l_LCi=class extends l_4B{constructor(a){super();this.Jr=a;this.tCf="";this.ba={lYj:i18n.get("spark-gather-ui-keyword-placeholder")}}Epd(){const a=this.ndd(),b=l_Sh(this.xy.value);b.keyword.clear();for(const c of a)c&&b.keyword.add(c);this.xy.setValue(b)}ndd(){return this.tCf.split(",").map(a=>a.trim())}ngOnDestroy(){super.Pb()}};l_LCi.Aa=()=>[{type:l_S1}];l_LCi.oa=function(a){return new (a||l_LCi)(l_M(l_S1))};
l_LCi.Ja=l_H({type:l_LCi,Ea:[["lucid-spark-gather-keyword-category"]],inputs:{xy:"settingsPipe"},Jb:!0,features:[l_O,l_uA],Ka:1,Ia:5,Ma:[[1,"keywords",3,"autoFocus","autoSelect","placeholder","rightOverlayText","value","valueChange"]],template:function(a,b){a&1&&(l_R(0,"lucid-input",0),l_U("valueChange",function(d){return b.tCf=d})("valueChange",function(){return b.Epd()}),l_S());if(a&2){a=l_Q("autoFocus",!0)("autoSelect",!0)("placeholder",b.ba.lYj);var c=0!==b.xy.value.keyword.size?l_R1(b.Jr,b.xy.value).length.toString():
void 0;a("rightOverlayText",c)("value",b.tCf)}},Na:[l_6,l_XK,l_JJ],styles:[".keywords[_ngcontent-%COMP%]{width:204px;margin-top:8px;margin-bottom:16px}"],changeDetection:0});__decorate([l_0q(),__metadata("design:type",l_Kq)],l_LCi.prototype,"xy",void 0);var l_T1;function l_MCi(a,b,c,d){return l_c(function*(){var e=c.blocks.map(h=>{const k=h.V0a.value,l=l_s.Ie(h.Ba.value,k);return{id:h.id,lb:k,MZf:{x:l.x,y:l.y}}});e=l_Ikc({qse:e,Ta:a.Zc});const {aqc:f,size:g}=yield l_NCi(a,b,{w:e.w,h:e.h},c.label,d);return{b_e:c.b_e,label:c.label,aqc:f,size:g,items:e.items,Wpc:d}})}
function l_OCi(a,b,c,d,e,f){let g=d.x;d=d.y;const h=new Map,k=[],l=new Set;for(const w of c){var m=a,n=b,p=g,q=d,r=w.size,t=w.label,u=f,v=w.Wpc;if(v){c=void 0;n=n.Im();const z=v.id;t&&(m=m.Zxc(t),null==(c=v.zb.value.get(l_sf.key))||c.setContent(m));v.properties.Sd.Oa(n);v.internal.properties.Jf.Oa({x:p,y:q,w:r.w,h:r.h});null==u||u.jua(z);c={id:z,Sd:n}}else c=m.a4c(n,p,q,r,t,u);const {id:x,Sd:y}=c;if(x){k.push(x);w.b_e&&h.set(w.b_e,x);for(const [z,A]of w.items.entries())if(c=z,m=A,v=a.document.Mh.get(m.id))l.has(v.id)?
a.Eef(v,b.id,g+w.aqc.x+m.x,d+w.aqc.y+m.y,y+c+1,f):(a.ZIf(v,g+w.aqc.x+m.x,d+w.aqc.y+m.y,y+c+1),l.add(v.id));g+=w.size.w+l_T1.lQg}}a.iW(k,e);return h}function l_PCi(a,b){return l_c(function*(){if(b.Wpc){var c=b.blocks.filter(a.PFg),d,e=null==(d=a.document.Mh.get(b.Wpc))?void 0:d.getGenerator();if(e){let f;null==(f=e.L2b()[0])||f.vo(c);yield a.xGd()}}})}
function l_QCi(a,b,c,d,e){return l_c(function*(){var f,g=d?void 0:null==e?void 0:null==(f=e.zb.value.get(l_sf.key))?void 0:l_QCe(f.content.value);f=new l_XE("SparkContainerBlock","TEMP_BLOCK",a.gj);f.getProperties().oI(Object.assign({},l_0di,{[l_sf.key]:null!=g?g:a.Zxc(d),[l_of.key]:{x:0,y:0,w:c.w+2*l_T1.s3c,h:c.h+2*l_T1.s3c}}));const h=a.eWb.create(f,b,a.document.oq);try{const k=h.zb.value.get(l_sf.key);if(!k)return a.Zc.re("Text area not found in temporary container block"),0;g=()=>h instanceof
l__di?h.Awb.value:(a.Zc.re("Invalid class for temporary container block"),0);let l=g();(yield k.dmg())||(l=g());return l}finally{h.dispose()}})}function l_NCi(a,b,c,d,e){return l_c(function*(){const f=yield l_QCi(a,b,c,d,e),g=(null==e?0:e.isType("frame"))?0:l_1di+l_T1.e4i;return{aqc:{x:l_T1.s3c,y:f+g},size:{w:c.w+2*l_T1.s3c,h:c.h+l_T1.s3c+f+g}}})}
var l_U1=l_T1=class extends l_g{constructor(a,b,c,d,e,f,g,h,k,l,m,n){super();this.document=a;this.Va=b;this.viewport=c;this.selection=d;this.cK=e;this.Cd=f;this.zl=g;this.eWb=h;this.gj=k;this.Zc=l;this.Te=n;this.aJf=.5;this.Sia=new l_w(this,()=>this.Cd.jr(),l_d);this.sn=new l_w(this,()=>this.viewport.Xm(),l_d);this.jzj=new l_w(this,()=>new Set(this.document.Gy.values().flatMap(p=>p.yi.values().map(q=>q.id))),l_Zd);this.PFg=p=>p.parent.value===this.Sia.value&&!this.jzj.value.has(p.id);this.Hta=m.create();
this.rb(this.Hta)}a6(a,b=!1){const c=this;return l_c(function*(){if(c.sn.value){var d=a.map(l=>{l.blocks=l.blocks.filter(c.PFg);return l});if(0!=d.length&&0!=l_Zi(d.map(l=>l.blocks.length))){var e=new Set,f=[];for(var g of d){var h=g.Wpc?c.document.Mh.get(g.Wpc):void 0;let l,m;d=(null==(l=h)?0:l.isType("container"))||(null==(m=h)?0:m.isType("frame"))?h:void 0;h=yield l_MCi(c,c.sn.value,g,d);f.push(h);g.blocks.forEach(n=>e.add(n.id));d&&e.add(d.id)}b||f.sort((l,m)=>m.size.h-l.size.h||m.size.w-l.size.w||
m.items.length-l.items.length);var k;g=null!=(k=l_QN(c.selection))?k:c.hnb(f);k=l_wP(c.viewport);f=l_OCi(c,c.sn.value,f,g,k,c.Sia.value);yield c.xGd();return f}}})}xGd(){const a=this;return l_c(function*(){yield a.Te.Vi(106)})}hnb(a){const b=l_wP(this.viewport);var c;let d;a=null!=(d=null==(c=a[0])?void 0:c.size)?d:l_s.um();c={x:a.w/2,y:a.h/2};return l_l.Ie(l_s.center(b),c)}Zxc(a){return l_LC(null!=a?a:"",l_Xdi)}a4c(a,b,c,d,e,f){const g=a.Im();b=Object.assign({},l_0di,{[l_sf.key]:this.Zxc(e),[l_of.key]:{x:b,
y:c,w:d.w,h:d.h},[l_yf.key]:g});a=this.cK.QI(a.id,"SparkContainerBlock",b);if(!a)return this.Zc.re("Invalid container ID for created container"),{id:a,Sd:g};f&&f.jua(a);return{id:a,Sd:g}}ZIf(a,b,c,d){const e=a.Ba.value;this.Hta.move({items:[a],offset:{x:b-e.x,y:c-e.y}});a.properties.Sd.Oa(d)}Eef(a,b,c,d,e,f){const g=a.Ba.value;c=Object.assign({},l_Cm(a.internal.getProperties()),{[l_of.key]:{x:c,y:d,w:g.w,h:g.h},[l_yf.key]:e});(a=this.cK.QI(b,a.Tb(),c))?f&&f.jua(a):this.Zc.re("Unable to duplicate block when applying gather/sort layout")}iW(a,
b){this.selection.Bi(a);a=this.selection.kc();0<a.length&&(a=l_mt.XP(a),l_rm(a,b)<this.aJf&&l_TP(this.zl,a,void 0,void 0,void 0,void 0,new l_eb(this.Va.oja+l_T1.Hvc,this.Va.Uoa,this.Va.iCa,this.Va.waa)))}};l_U1.lQg=32;l_U1.s3c=l_Wdi;l_U1.e4i=l_Wdi;l_U1.Hvc=l_T1.lQg+64;l_U1=l_T1=__decorate([l_v(),__metadata("design:paramtypes",[l_AM,l_Iw,l_AP,l_VN,l_Fx,l_kM,l_UP,l_S8e,l_ay,l_fs,l_4P,l_Fp])],l_U1);function l_RCi(a){a&1&&(l_R(0,"span",5),l_X(1),l_S());a&2&&(a=l_V().Fa,l_N(1),l_Z(" ",a.title," "))}function l_SCi(a,b){if(a&1){const c=l_J();l_R(0,"lucid-spark-gather-category-option",6)(1,"lucid-colored-circle",7);l_U("lucidClick",function(){const d=l_K(c).Fa,e=l_V(2);return l_L(e.h6a(d))});l_S()()}if(a&2){a=b.Fa;b=l_V().Fa;const c=l_V();l_Q("count",a.count);l_N(1);l_W("lucid-colored-circle-selected",l_fCi(c,a));l_Q("color",b.color)("text",a.LP.toString())}}
function l_TCi(a,b){a&1&&(l_R(0,"div"),l_P(1,l_RCi,2,1,"span",2),l_R(2,"div",3),l_P(3,l_SCi,2,5,"lucid-spark-gather-category-option",4),l_S()());a&2&&(a=b.Fa,b=l_V(),l_N(1),l_Q("ngIf",null==b.Dsa?null:b.Dsa.Yhb),l_N(1),l_W("top-padding",!(null==b.Dsa?0:b.Dsa.Yhb)),l_N(1),l_Q("ngForOf",a.options))}
var l_UCi=class extends l_P1{constructor(a){super();this.Jr=a;this.ba={dVe:i18n.get("spark-gather-ui-votes-select-all-sessions"),a1f:i18n.get("spark-gather-ui-votes-sessions-placeholder")}}k3b(a){return a}B3b(a){return a.LP}jwc(){return[...this.Jr.nua.value].map(([a,b])=>({sessionId:a,title:b.title,ended:b.ended,color:b.color,options:[...b.egb].map(c=>this.getOption({sessionId:a,LP:c})).sort((c,d)=>c.LP-d.LP)})).sort((a,b)=>b.ended.getTime()-a.ended.getTime())}nwc(){return l_sCi(this.Jr,this.xy.value).w7e}getOption(a){const b=
this.Pn(a);return Object.assign({},a,{count:b})}ppf(a){return[{label:this.ba.dVe,value:{Yhb:!0}},...a.map(b=>({label:b.title,value:{sessionId:b.sessionId}}))]}mpf(a){const b=this.Dsa;if(b)return b.Yhb?a:(a=a.find(c=>c.sessionId===b.sessionId))?[a]:[]}m2e(a){var b;(null==(b=this.Dsa)?void 0:b.sessionId)===(null==a?void 0:a.sessionId)||null!=a&&a.Yhb||(b=l_Sh(this.xy.value),b.LP.clear(),this.xy.setValue(b));this.Dsa=a}};l_UCi.Aa=()=>[{type:l_S1}];l_UCi.oa=function(a){return new (a||l_UCi)(l_M(l_S1))};
l_UCi.Ja=l_H({type:l_UCi,Ea:[["lucid-spark-gather-votes-category"]],inputs:{xy:"settingsPipe",width:"width"},Jb:!0,features:[l_O,l_uA],Ka:4,Ia:9,Ma:[[1,"lucid-menu-trigger-8px-padding",3,"placeholderText","value","options","width","valueChange"],[4,"ngFor","ngForOf"],["class","section-header",4,"ngIf"],[1,"section"],["class","lucid-spark-gather-category-option-two-columns lucid-spark-gather-category-option-overflow-y-visible",3,"count",4,"ngFor","ngForOf"],[1,"section-header"],[1,"lucid-spark-gather-category-option-two-columns",
"lucid-spark-gather-category-option-overflow-y-visible",3,"count"],[1,"color",3,"color","text","lucidClick"]],template:function(a,b){a&1&&(l_R(0,"lucid-single-select-dropdown",0),l_U("valueChange",function(c){return b.m2e(c)}),l__(1,"lucidPipeValue"),l_S(),l_P(2,l_TCi,4,4,"div",1),l__(3,"lucidPipeValue"));a&2&&(l_Q("placeholderText",b.ba.a1f)("value",b.Dsa)("options",b.ppf(l_0(1,5,b.options)))("width",b.width),l_N(2),l_Q("ngForOf",b.mpf(l_0(3,7,b.options))))},Na:[l_6,l_lB,l_5,l_mG,l_iG,l_jV,l_zJ,
l_wL,l_fL,l_kE,l_hE,l_O1],styles:[".color[_ngcontent-%COMP%], .section-header[_ngcontent-%COMP%]{line-height:16px;font-weight:var(--lucid-theme-normal-font-weight,400);font-style:normal;font-stretch:normal}[_nghost-%COMP%]{display:block}.section[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.section.top-padding[_ngcontent-%COMP%]{padding-top:8px}.section-header[_ngcontent-%COMP%]{font-size:12px;color:#6f7681;display:block;padding:8px 0}.color[_ngcontent-%COMP%]{font-size:14px;margin-left:4px;cursor:pointer;color:#fff}"],
changeDetection:0});__decorate([l_0q(),__metadata("design:type",l_Kq)],l_UCi.prototype,"xy",void 0);function l_VCi(a){a&1&&(l_R(0,"span",5),l_X(1),l_S());a&2&&(a=l_V().Fa,l_N(1),l_Z(" ",a.title," "))}function l_WCi(a,b){if(a&1){const c=l_J();l_R(0,"lucid-spark-gather-category-option",6)(1,"span",7);l_U("lucidClick",function(){const d=l_K(c).Fa,e=l_V(2);return l_L(e.h6a(d))});l_X(2);l_S()()}a&2&&(a=b.Fa,b=l_V(2),l_Q("count",a.count),l_N(1),l_W("selected",l_fCi(b,a)),l_N(1),l_Z(" ",a.name," "))}
function l_XCi(a,b){a&1&&(l_R(0,"div"),l_P(1,l_VCi,2,1,"span",2),l_R(2,"div",3),l_P(3,l_WCi,3,4,"lucid-spark-gather-category-option",4),l_S()());a&2&&(a=b.Fa,b=l_V(),l_N(1),l_Q("ngIf",null==b.Dsa?null:b.Dsa.Yhb),l_N(1),l_W("top-padding",!(null==b.Dsa?0:b.Dsa.Yhb)),l_N(1),l_Q("ngForOf",a.options))}
var l_YCi=class extends l_P1{constructor(a,b){super();this.Jr=a;this.vU=b;this.ba={dVe:i18n.get("spark-gather-ui-votes-select-all-sessions"),a1f:i18n.get("spark-gather-ui-votes-sessions-placeholder")}}k3b(a){return a}B3b(a){return a.zxb}jwc(){return[...this.Jr.BCg.value].map(([a,b])=>({sessionId:a,title:b.title,ended:b.ended,color:b.color,options:[...b.HId].sort((c,d)=>{c=this.vU.JXa(c);d=this.vU.JXa(d);return c.localeCompare(d)}).map(c=>this.getOption({sessionId:a,GId:c}))})).sort((a,b)=>b.ended.getTime()-
a.ended.getTime())}nwc(){return l_uCi(this.Jr,this.xy.value).w7e}getOption(a){const b=this.Pn(a),c=l_sob(a.GId,this.vU.JXa(a.GId));return Object.assign({},a,{name:c,count:b})}ppf(a){return[{label:this.ba.dVe,value:{Yhb:!0}},...a.map(b=>({label:b.title,value:{sessionId:b.sessionId}}))]}mpf(a){const b=this.Dsa;if(b)return b.Yhb?a:(a=a.find(c=>c.sessionId===b.sessionId))?[a]:[]}m2e(a){var b;(null==(b=this.Dsa)?void 0:b.sessionId)===(null==a?void 0:a.sessionId)||null!=a&&a.Yhb||(b=l_Sh(this.xy.value),
b.zxb.clear(),this.xy.setValue(b));this.Dsa=a}};l_YCi.Aa=()=>[{type:l_S1},{type:l_TH}];l_YCi.oa=function(a){return new (a||l_YCi)(l_M(l_S1),l_M(l_TH))};
l_YCi.Ja=l_H({type:l_YCi,Ea:[["lucid-spark-gather-voted-by-category"]],inputs:{xy:"settingsPipe",width:"width"},Jb:!0,features:[l_O,l_uA],Ka:4,Ia:9,Ma:[[1,"lucid-menu-trigger-8px-padding",3,"placeholderText","value","options","width","valueChange"],[4,"ngFor","ngForOf"],["class","section-header",4,"ngIf"],[1,"section"],["class","lucid-spark-gather-category-option-one-column",3,"count",4,"ngFor","ngForOf"],[1,"section-header"],[1,"lucid-spark-gather-category-option-one-column",3,"count"],[1,"user-bubble",
3,"lucidClick"]],template:function(a,b){a&1&&(l_R(0,"lucid-single-select-dropdown",0),l_U("valueChange",function(c){return b.m2e(c)}),l__(1,"lucidPipeValue"),l_S(),l_P(2,l_XCi,4,4,"div",1),l__(3,"lucidPipeValue"));a&2&&(l_Q("placeholderText",b.ba.a1f)("value",b.Dsa)("options",b.ppf(l_0(1,5,b.options)))("width",b.width),l_N(2),l_Q("ngForOf",b.mpf(l_0(3,7,b.options))))},Na:[l_6,l_lB,l_5,l_mG,l_iG,l_kE,l_hE,l_wL,l_fL,l_O1],styles:["[_nghost-%COMP%]{display:block}.section[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.section.top-padding[_ngcontent-%COMP%]{padding-top:8px}.section-header[_ngcontent-%COMP%]{font-size:12px;line-height:16px;font-weight:var(--lucid-theme-normal-font-weight,400);font-style:normal;font-stretch:normal;color:#6f7681;display:block;padding:8px 0}.user-bubble[_ngcontent-%COMP%]{min-height:24px;max-height:48px;padding:1px 8px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow-y:auto;border:1px solid #dfe3e8;border-radius:16px;cursor:pointer;font-size:14px;line-height:20px;font-weight:var(--lucid-theme-normal-font-weight,400);font-style:normal;font-stretch:normal}.user-bubble.selected[_ngcontent-%COMP%]{background:#dedeff;border-color:#2f3296;color:#2f3296}"],
changeDetection:0});__decorate([l_0q(),__metadata("design:type",l_Kq)],l_YCi.prototype,"xy",void 0);function l_ZCi(a){if(a&1){const b=l_J();l_R(0,"lucid-button",14);l_U("lucidClick",function(){l_K(b);const c=l_V().Fa,d=l_V();return l_L(d.jXf(c))});l_S()}a&2&&(a=l_V(2),l_Q("iconRef",a.icons.pf)("ariaLabel",a.ba.jXf))}function l__Ci(a){a&1&&l_T(0,"lucid-spark-gather-color-category",15);if(a&2){a=l_V().Fa;const b=l_V();l_W("less-bottom-padding",l_0Ci(b,a));l_Q("settingsPipe",b.xy)}}
function l_1Ci(a){a&1&&l_T(0,"lucid-spark-gather-tag-category",15);if(a&2){a=l_V().Fa;const b=l_V();l_W("less-bottom-padding",l_0Ci(b,a));l_Q("settingsPipe",b.xy)}}function l_2Ci(a){a&1&&l_T(0,"lucid-spark-gather-reaction-category",15);if(a&2){a=l_V().Fa;const b=l_V();l_W("less-bottom-padding",l_0Ci(b,a));l_Q("settingsPipe",b.xy)}}
function l_3Ci(a){a&1&&l_T(0,"lucid-spark-gather-reacted-by-category",15);if(a&2){a=l_V().Fa;const b=l_V();l_W("less-bottom-padding",l_0Ci(b,a));l_Q("settingsPipe",b.xy)}}function l_4Ci(a){a&1&&l_T(0,"lucid-spark-gather-keyword-category",15);if(a&2){a=l_V().Fa;const b=l_V();l_W("less-bottom-padding",l_0Ci(b,a));l_Q("settingsPipe",b.xy)}}
function l_5Ci(a){a&1&&l_T(0,"lucid-spark-gather-votes-category",16);if(a&2){a=l_V().Fa;const b=l_V();l_W("less-bottom-padding",l_0Ci(b,a));l_Q("settingsPipe",b.xy)("width",b.rxc(a))}}function l_6Ci(a){a&1&&l_T(0,"lucid-spark-gather-voted-by-category",16);if(a&2){a=l_V().Fa;const b=l_V();l_W("less-bottom-padding",l_0Ci(b,a));l_Q("settingsPipe",b.xy)("width",b.rxc(a))}}
function l_7Ci(a,b){if(a&1){const c=l_J();l_R(0,"div",7)(1,"div",8)(2,"lucid-single-select-dropdown",9);l_U("valueChange",function(d){const e=l_K(c).Fa;return l_L(e.Wu=d)})("valueChange",function(){l_K(c);const d=l_V();return l_L(l_8Ci(d))});l_S();l_P(3,l_ZCi,1,2,"lucid-button",10);l_S();l_$z(4,11);l_P(5,l__Ci,1,3,"lucid-spark-gather-color-category",12);l_P(6,l_1Ci,1,3,"lucid-spark-gather-tag-category",12);l_P(7,l_2Ci,1,3,"lucid-spark-gather-reaction-category",12);l_P(8,l_3Ci,1,3,"lucid-spark-gather-reacted-by-category",
12);l_P(9,l_4Ci,1,3,"lucid-spark-gather-keyword-category",12);l_P(10,l_5Ci,1,4,"lucid-spark-gather-votes-category",13);l_P(11,l_6Ci,1,4,"lucid-spark-gather-voted-by-category",13);l_aA();l_S()}a&2&&(a=b.Fa,b=l_V(),l_N(2),l_Q("value",a.Wu)("options",l_9Ci(b,a.Wu))("width",b.rxc(a)),l_N(1),l_Q("ngIf",1<b.kj.length||!!a.Wu),l_N(1),l_Q("ngSwitch",null==a?null:a.Wu),l_N(1),l_Q("ngSwitchCase",b.d2b.YSb),l_N(1),l_Q("ngSwitchCase",b.d2b.Tag),l_N(1),l_Q("ngSwitchCase",b.d2b.Csg),l_N(1),l_Q("ngSwitchCase",b.d2b.Bsg),
l_N(1),l_Q("ngSwitchCase",b.d2b.wqg),l_N(1),l_Q("ngSwitchCase",b.d2b.nOe),l_N(1),l_Q("ngSwitchCase",b.d2b.zug))}function l_$Ci(a){if(a&1){const b=l_J();l_R(0,"lucid-button",17);l_U("lucidClick",function(){l_K(b);const c=l_V();return l_L(c.COd())});l_S()}a&2&&(a=l_V(),l_Q("iconRef",a.icons.Fo)("label",a.ba.qHi))}function l_0Ci(a,b){return a.kj[a.kj.length-1]===b}function l_8Ci(a){const b=l_Sh(a.xy.value);for(const c of Object.keys(b)){const d=b[c];l_aDi(a,l_bDi[c])||d.clear()}a.xy.setValue(b)}
function l_9Ci(a,b){return[{value:l_cDi,label:a.ba.kYj,disabled:()=>l_dDi(a,b,l_cDi)},{value:l_eDi,label:a.ba.wvk,disabled:()=>l_dDi(a,b,l_eDi)},{value:l_fDi,label:a.ba.vvk,disabled:()=>l_dDi(a,b,l_fDi)},{value:l_gDi,label:a.ba.qYk,disabled:()=>l_dDi(a,b,l_gDi)},{value:l_hDi,label:a.ba.EOg,disabled:()=>l_dDi(a,b,l_hDi)},{value:l_iDi,label:a.ba.Pcl,disabled:()=>l_dDi(a,b,l_iDi)},{value:l_jDi,label:a.ba.Ncl,disabled:()=>l_dDi(a,b,l_jDi)}]}function l_aDi(a,b){return!!a.kj.find(c=>c.Wu===b)}
function l_kDi(a){let b;return!(null==(b=a.kj[a.kj.length-1])||!b.Wu)}function l_lDi(a){let b;return l_kDi(a)&&!(null==(b=l_9Ci(a))?0:b.every(c=>{let d;return null==(d=c.disabled)?void 0:d.call(c,void 0,void 0)}))}function l_mDi(a){return l_c(function*(){const b=a.xy.value,c={blocks:l_R1(a.Jr,b),Wpc:a.ANh?a.s7d.Ra():void 0};a.s7d.njh.value?yield l_PCi(a.YPb,c):yield a.YPb.a6([c]);l_9Bi(a.$Ta);a.Tm(b,c.blocks.length)})}
function l_dDi(a,b,c){if(c===l_gDi){if(0===a.Jr.Dzb.value.size)return!0}else if(c===l_eDi){if(0===a.Jr.uCg.value.size)return!0}else if(c===l_fDi){if(0===a.Jr.tCg.value.size)return!0}else if(c===l_iDi){if(0===a.Jr.nua.value.size)return!0}else if(c===l_jDi&&0===a.Jr.BCg.value.size)return!0;return b!==c&&l_aDi(a,c)}
var l_pDi=class extends l_ME{constructor(a,b,c,d,e,f,g,h,k,l,m){super(a,b,c);this.Jr=d;this.Omb=e;this.YPb=f;this.$Ta=g;this.s7d=h;this.documentId=k;this.Xa=l;this.user=m;this.ANh=this.eKa=!1;this.ba={Hyj:i18n.get("spark-gather-ui-title"),wvk:i18n.get("spark-gather-ui-label-reaction"),vvk:i18n.get("spark-gather-ui-label-reacted-by"),EOg:i18n.get("spark-gather-ui-label-color"),qYk:i18n.get("spark-gather-ui-label-tag"),kYj:i18n.get("spark-gather-ui-label-keyword"),Pcl:i18n.get("spark-gather-ui-label-votes"),
Ncl:i18n.get("spark-gather-ui-label-voted-by"),qHi:i18n.get("spark-gather-ui-add-category"),Gyj:i18n.get("spark-gather-ui-gather-button"),jXf:i18n.get("spark-gather-ui-remove-category")};this.icons={pf:l_Eo,Fo:l_so};this.kj=[{}];this.xy=new l_x(this,{fill:new Set,yN:new Set,aNb:new Set,x$:new Set,keyword:new Set,LP:new l_3Ib(l_tCi),zxb:new l_3Ib(l_vCi)},l_Th);this.d2b=l_nDi;l_JE(this,this.xy)}ngAfterViewInit(){l_LE(this);this.eKa&&(this.Omb.t7d.value=l_iCi)}rxc(a){return 1<this.kj.length||a.Wu?204:
232}jXf(a){a=this.kj.indexOf(a);0<=a&&this.kj.splice(a,1);0===this.kj.length&&this.COd();l_8Ci(this)}COd(){this.kj.push({});l_8Ci(this)}cSc(a){this.xy.setValue(a)}Tm(a,b){var c=l_eCi,d=this.documentId;const e=[];for(const f of this.kj){const g=f.Wu&&l_oDi[f.Wu](a);g&&e.push(g)}a=new c({documentId:d,Cx:"contextual formatting",xlf:e,Xdb:l_mCi,uda:b,userId:this.user.getId(),ISb:this.eKa});this.Xa.fireEvent(a)}};
l_pDi.Aa=()=>[{type:l_as},{type:l_3},{type:l_4},{type:l_S1},{type:l_Q1},{type:l_U1},{type:l_nq},{type:l_gCi},{type:String,Ua:[{type:l_Ez,args:[l_WD(l_Gd)]}]},{type:l_dD},{type:l_7}];l_pDi.oa=function(a){return new (a||l_pDi)(l_M(l_as),l_M(l_3),l_M(l_4),l_M(l_S1),l_M(l_Q1),l_M(l_U1),l_M(l_nq),l_M(l_gCi),l_M(l_WD(l_Gd)),l_M(l_dD),l_M(l_7))};
l_pDi.Ja=l_H({type:l_pDi,Ea:[["lucid-spark-gather-ui"]],inputs:{eKa:"applyGatherSortGlobally",ANh:"reuseSelectedContainer"},features:[l_O],Ka:9,Ia:11,Ma:[[1,"scrollable",3,"vertical"],[1,"body"],[1,"title"],[3,"level"],["class","category",4,"ngFor","ngForOf"],["class","add-button lucid-button-tertiary","data-test-id","spark-gather-ui-add-category-button",3,"iconRef","label","lucidClick",4,"ngIf"],["data-test-id","spark-gather-ui-gather-button",1,"gather-button","lucid-button-primary",3,"lucidDisabled",
"label","lucidClick"],[1,"category"],[1,"menu-container"],[1,"menu","lucid-menu-trigger-8px-padding",3,"value","options","width","valueChange"],["class","remove-category-button",3,"iconRef","ariaLabel","lucidClick",4,"ngIf"],[3,"ngSwitch"],["class","category-ui",3,"less-bottom-padding","settingsPipe",4,"ngSwitchCase"],["class","category-ui",3,"less-bottom-padding","settingsPipe","width",4,"ngSwitchCase"],[1,"remove-category-button",3,"iconRef","ariaLabel","lucidClick"],[1,"category-ui",3,"settingsPipe"],
[1,"category-ui",3,"settingsPipe","width"],["data-test-id","spark-gather-ui-add-category-button",1,"add-button","lucid-button-tertiary",3,"iconRef","label","lucidClick"]],template:function(a,b){a&1&&(l_R(0,"lucid-scrollable",0)(1,"div",1)(2,"div",2)(3,"lucid-heading",3),l_X(4),l_S()(),l_P(5,l_7Ci,12,12,"div",4),l_S()(),l_P(6,l_$Ci,1,2,"lucid-button",5),l_R(7,"footer")(8,"lucid-button",6),l_U("lucidClick",function(){return l_mDi(b)}),l_S()());a&2&&(l_Q("vertical",!0),l_N(1),l_W("padded",!l_lDi(b))("less-bottom-padding",
!l_lDi(b)&&l_kDi(b)),l_N(2),l_Q("level",4),l_N(1),l_Y(b.ba.Hyj),l_N(1),l_Q("ngForOf",b.kj),l_N(1),l_Q("ngIf",l_lDi(b)),l_N(2),l_Q("lucidDisabled",!l_wCi(b.Jr,b.xy.value).length)("label",b.ba.Gyj))},Na:[l_lB,l_5,l_mB,l_nB,l_tF,l_iG,l_mC,l_8E,l_fL,l_CB,l_KCi,l_LCi,l_GCi,l_ECi,l_ICi,l_UCi,l_YCi],styles:[".add-button[_ngcontent-%COMP%], .menu-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox}.scrollable[_ngcontent-%COMP%]{max-height:648px}.body[_ngcontent-%COMP%]{padding:0 16px}.body.padded[_ngcontent-%COMP%]{padding-bottom:16px}.body.less-bottom-padding[_ngcontent-%COMP%]{padding-bottom:8px}.title[_ngcontent-%COMP%]{margin-bottom:8px}.menu-container[_ngcontent-%COMP%]{display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.menu-container[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:inline-block}.menu-container[_ngcontent-%COMP%]   .remove-category-button[_ngcontent-%COMP%]{margin-left:4px;cursor:pointer}.category-ui[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:16px}.category-ui.less-bottom-padding[_ngcontent-%COMP%]{padding-bottom:8px}.add-button[_ngcontent-%COMP%]{display:flex;margin:8px 16px}footer[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;border-top:1px solid #dfe3e8;padding:15px 16px 16px}footer[_ngcontent-%COMP%]   .gather-button[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}"],
changeDetection:0});var l_eDi="reaction",l_fDi="reacted-by",l_hDi="color",l_gDi="tag",l_cDi="keyword",l_iDi="votes",l_jDi="voted-by";
const l_nDi={Csg:l_eDi,Bsg:l_fDi,YSb:l_hDi,Tag:l_gDi,wqg:l_cDi,nOe:l_iDi,zug:l_jDi},l_bDi={fill:l_hDi,yN:l_eDi,aNb:l_fDi,x$:l_gDi,keyword:l_cDi,LP:l_iDi,zxb:l_jDi},l_oDi={[l_hDi]:a=>a.fill.size?"color":void 0,[l_cDi]:a=>a.keyword.size?"keyword":void 0,[l_fDi]:a=>a.aNb.size?"reacted by":void 0,[l_eDi]:a=>a.yN.size?"reaction":void 0,[l_gDi]:a=>a.x$.size?"tag":void 0,[l_iDi]:a=>a.LP.size?"votes":void 0,[l_jDi]:a=>a.zxb.size?"voted by":void 0};var l_qDi=class{};l_qDi.oa=function(a){return new (a||l_qDi)};l_qDi.Za=l_I({type:l_qDi});l_qDi.Ya=l_F({imports:[l_6,l_GF,l_mG,l_xC,l_XK,l_pF,l_wL,l_jV,l_eXg,l_YB,l_KCi,l_LCi,l_GCi,l_ECi,l_ICi,l_UCi,l_YCi]});var l_rDi=class{};l_rDi.oa=function(a){return new (a||l_rDi)};
l_rDi.Ja=l_H({type:l_rDi,Ea:[["lucid-spark-gather-contextual-callout"]],Jb:!0,features:[l_uA],Ka:1,Ia:2,Ma:[[3,"reuseSelectedContainer","applyGatherSortGlobally"]],template:function(a){a&1&&l_T(0,"lucid-spark-gather-ui",0);a&2&&l_Q("reuseSelectedContainer",!0)("applyGatherSortGlobally",!0)},Na:[l_6,l_qDi,l_pDi],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;width:264px;padding-top:16px}"],changeDetection:0});var l_sDi=l_sDi||{id:"cake/app/webroot/ts/angular/spark/gather/gathercontainercontrol/sparkgathercontainercontrol.component.closure.js"};function l_tDi(a){a&1&&l_T(0,"lucid-spark-gather-contextual-callout")}
function l_uDi(a){if(a&1){const b=l_J();l_R(0,"div",1);l_U("calloutOnShow",function(){l_K(b);const c=l_V();return l_L(c.yea())})("calloutOnHiding",function(){l_K(b);const c=l_V();return l_L(c.N5a())});l_T(1,"lucid-toggle-button",2);l__(2,"lucidPipeValue");l_P(3,l_tDi,1,0,"lucid-spark-gather-contextual-callout",3);l_S()}a&2&&(a=l_V(),l_Q("calloutNoArrow",!0)("calloutAdditionalClasses","white rounded")("calloutTopPadding",a.bjb)("calloutLeftPadding",a.DAb)("calloutSlideDirection",a.ZP)("lucidStaticCoreTooltip",
a.nb),l_N(1),l_Q("active",l_0(2,9,a.UJ))("iconRef",a.icons.Iyj)("ariaLabel",a.ba.nb))}var l_V1=class extends l_g{constructor(a){super();this.s7d=a;this.icons={Iyj:l_bog};this.ba={nb:i18n.get("spark-control-gather-tooltip")};this.we="hover";this.nb={Xb:this.ba.nb,position:"top",xc:this.we};this.ZP=3;this.bjb=8;this.DAb=0;this.visible=new l_w(this,()=>this.s7d.Ud(),l_d);this.UJ=new l_x(this,!1,l_d)}yea(){this.UJ.value=!0}N5a(){this.UJ.value=!1}};
l_V1.Ua=[{type:l_IA,args:[{Wb:l_sDi.id,selector:"lucid-spark-gather-container-control",templateUrl:"./sparkgathercontainercontrol.component.html",changeDetection:l_bz.OnPush}]}];l_V1.Aa=()=>[{type:l_gCi}];l_V1.oa=function(a){return new (a||l_V1)(l_M(l_gCi))};
l_V1.Ja=l_H({type:l_V1,Ea:[["lucid-spark-gather-container-control"]],features:[l_O],Ka:2,Ia:3,Ma:[["lucidCallout","",3,"calloutNoArrow","calloutAdditionalClasses","calloutTopPadding","calloutLeftPadding","calloutSlideDirection","lucidStaticCoreTooltip","calloutOnShow","calloutOnHiding",4,"ngIf"],["lucidCallout","",3,"calloutNoArrow","calloutAdditionalClasses","calloutTopPadding","calloutLeftPadding","calloutSlideDirection","lucidStaticCoreTooltip","calloutOnShow","calloutOnHiding"],["lucidFloatingActionItem",
"",1,"format-control-button",3,"active","iconRef","ariaLabel"],[4,"lucidCalloutTemplate"]],template:function(a,b){a&1&&(l_P(0,l_uDi,4,11,"div",0),l__(1,"lucidPipeValue"));a&2&&l_Q("ngIf",l_0(1,1,b.visible))},Na:[l_5,l_HJ,l_KJ,l_yJ,l_wB,l_dI,l_rDi,l_hE],mg:2,changeDetection:0});l_V1=__decorate([l_Lb,__metadata("design:paramtypes",[l_gCi])],l_V1);
//# sourceURL=/js/application/chart_app/chunk/gen_400000000000000000000000000c0000.js?compiled=1
